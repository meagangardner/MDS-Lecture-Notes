

<!DOCTYPE html>


<html lang="en" >

  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" /><meta name="generator" content="Docutils 0.17.1: http://docutils.sourceforge.net/" />

    <title>Lecture 2 - Key datatypes &amp; operators in R &#8212; DSCI 523 Programming for Data Manipulation</title>
  
  
  
  <script data-cfasync="false">
    document.documentElement.dataset.mode = localStorage.getItem("mode") || "";
    document.documentElement.dataset.theme = localStorage.getItem("theme") || "light";
  </script>
  
  <!-- Loaded before other Sphinx assets -->
  <link href="../_static/styles/theme.css?digest=ac02cc09edc035673794" rel="stylesheet" />
<link href="../_static/styles/bootstrap.css?digest=ac02cc09edc035673794" rel="stylesheet" />
<link href="../_static/styles/pydata-sphinx-theme.css?digest=ac02cc09edc035673794" rel="stylesheet" />

  
  <link href="../_static/vendor/fontawesome/6.1.2/css/all.min.css?digest=ac02cc09edc035673794" rel="stylesheet" />
  <link rel="preload" as="font" type="font/woff2" crossorigin href="../_static/vendor/fontawesome/6.1.2/webfonts/fa-solid-900.woff2" />
<link rel="preload" as="font" type="font/woff2" crossorigin href="../_static/vendor/fontawesome/6.1.2/webfonts/fa-brands-400.woff2" />
<link rel="preload" as="font" type="font/woff2" crossorigin href="../_static/vendor/fontawesome/6.1.2/webfonts/fa-regular-400.woff2" />

    <link rel="stylesheet" type="text/css" href="../_static/pygments.css" />
    <link rel="stylesheet" href="../_static/styles/sphinx-book-theme.css?digest=14f4ca6b54d191a8c7657f6c759bf11a5fb86285" type="text/css" />
    <link rel="stylesheet" type="text/css" href="../_static/togglebutton.css" />
    <link rel="stylesheet" type="text/css" href="../_static/copybutton.css" />
    <link rel="stylesheet" type="text/css" href="../_static/mystnb.4510f1fc1dee50b3e5859aac5469c37c29e427902b24a333a5f9fcb2f0b3ac41.css" />
    <link rel="stylesheet" type="text/css" href="../_static/sphinx-thebe.css" />
    <link rel="stylesheet" type="text/css" href="../_static/design-style.4045f2051d55cab465a707391d5b2007.min.css" />
  
  <!-- Pre-loaded scripts that we'll load fully later -->
  <link rel="preload" as="script" href="../_static/scripts/bootstrap.js?digest=ac02cc09edc035673794" />
<link rel="preload" as="script" href="../_static/scripts/pydata-sphinx-theme.js?digest=ac02cc09edc035673794" />
  <script src="../_static/vendor/fontawesome/6.1.2/js/all.min.js?digest=ac02cc09edc035673794"></script>

    <script data-url_root="../" id="documentation_options" src="../_static/documentation_options.js"></script>
    <script src="../_static/jquery.js"></script>
    <script src="../_static/underscore.js"></script>
    <script src="../_static/_sphinx_javascript_frameworks_compat.js"></script>
    <script src="../_static/doctools.js"></script>
    <script src="../_static/clipboard.min.js"></script>
    <script src="../_static/copybutton.js"></script>
    <script src="../_static/scripts/sphinx-book-theme.js?digest=5a5c038af52cf7bc1a1ec88eea08e6366ee68824"></script>
    <script>let toggleHintShow = 'Click to show';</script>
    <script>let toggleHintHide = 'Click to hide';</script>
    <script>let toggleOpenOnPrint = 'true';</script>
    <script src="../_static/togglebutton.js"></script>
    <script>var togglebuttonSelector = '.toggle, .admonition.dropdown';</script>
    <script src="../_static/design-tabs.js"></script>
    <script>const THEBE_JS_URL = "https://unpkg.com/thebe@0.8.2/lib/index.js"
const thebe_selector = ".thebe,.cell"
const thebe_selector_input = "pre"
const thebe_selector_output = ".output, .cell_output"
</script>
    <script async="async" src="../_static/sphinx-thebe.js"></script>
    <script async="async" src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js"></script>
    <script>DOCUMENTATION_OPTIONS.pagename = 'lecture-notes/02-data-types-and-operators';</script>
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
    <link rel="next" title="Lecture 3 - dates &amp; times, strings, as well as factors" href="03-dates-strings-and-factors.html" />
    <link rel="prev" title="Lecture 1 - Introduction to R via the tidyverse" href="01-intro-to-r-via-tidyverse.html" />
  <meta name="viewport" content="width=device-width, initial-scale=1"/>
  <meta name="docsearch:language" content="en"/>
  </head>
  
  
  <body data-bs-spy="scroll" data-bs-target=".bd-toc-nav" data-offset="180" data-bs-root-margin="0px 0px -60%" data-default-mode="">

  
  
  <a class="skip-link" href="#main-content">Skip to main content</a>
  
  <div id="pst-scroll-pixel-helper"></div>

  
  <button type="button" class="btn rounded-pill" id="pst-back-to-top">
    <i class="fa-solid fa-arrow-up"></i>
    Back to top
  </button>

  
  <input type="checkbox"
          class="sidebar-toggle"
          name="__primary"
          id="__primary"/>
  <label class="overlay overlay-primary" for="__primary"></label>
  
  <input type="checkbox"
          class="sidebar-toggle"
          name="__secondary"
          id="__secondary"/>
  <label class="overlay overlay-secondary" for="__secondary"></label>
  
  <div class="search-button__wrapper">
    <div class="search-button__overlay"></div>
    <div class="search-button__search-container">
<form class="bd-search d-flex align-items-center"
      action="../search.html"
      method="get">
  <i class="fa-solid fa-magnifying-glass"></i>
  <input type="search"
         class="form-control"
         name="q"
         id="search-input"
         placeholder="Search this book..."
         aria-label="Search this book..."
         autocomplete="off"
         autocorrect="off"
         autocapitalize="off"
         spellcheck="false"/>
  <span class="search-button__kbd-shortcut"><kbd class="kbd-shortcut__modifier">Ctrl</kbd>+<kbd>K</kbd></span>
</form></div>
  </div>
  
    <nav class="bd-header navbar navbar-expand-lg bd-navbar">
    </nav>
  
  <div class="bd-container">
    <div class="bd-container__inner bd-page-width">
      
      <div class="bd-sidebar-primary bd-sidebar">
        

  
  <div class="sidebar-header-items sidebar-primary__section">
    
    
    
    
  </div>
  
    <div class="sidebar-primary-items__start sidebar-primary__section">
        <div class="sidebar-primary-item">
  

<a class="navbar-brand logo" href="../README.html">
  
  
  
  
    
    
      
    
    
    <img src="../_static/hex_sticker_small.png" class="logo__image only-light" alt="Logo image"/>
    <script>document.write(`<img src="../_static/hex_sticker_small.png" class="logo__image only-dark" alt="Logo image"/>`);</script>
  
  
</a></div>
        <div class="sidebar-primary-item"><nav class="bd-links" id="bd-docs-nav" aria-label="Main">
    <div class="bd-toc-item navbar-nav active">
        
        <ul class="nav bd-sidenav bd-sidenav__home-link">
            <li class="toctree-l1">
                <a class="reference internal" href="../README.html">
                    DSCI 523: Programming for Data Manipulation
                </a>
            </li>
        </ul>
        <p aria-level="2" class="caption" role="heading"><span class="caption-text">Lectures</span></p>
<ul class="current nav bd-sidenav">
<li class="toctree-l1"><a class="reference internal" href="01-intro-to-r-via-tidyverse.html">Lecture 1 -  Introduction to R via the tidyverse</a></li>
<li class="toctree-l1 current active"><a class="current reference internal" href="#">Lecture 2 -  Key datatypes &amp; operators in R</a></li>
<li class="toctree-l1"><a class="reference internal" href="03-dates-strings-and-factors.html">Lecture 3 -  dates &amp; times, strings,  as well as factors</a></li>
<li class="toctree-l1"><a class="reference internal" href="04-two-table-joins-and-base-control-flow.html">Lecture 4 -  Combining data frames (binds and joins) &amp; base R control flow</a></li>
<li class="toctree-l1"><a class="reference internal" href="05-tidy-control-flow.html">Lecture 5 -  Tidy control flow in R</a></li>
<li class="toctree-l1"><a class="reference internal" href="06-lecture-functions-and-testing.html">Lecture 6: Functions and testing</a></li>
<li class="toctree-l1"><a class="reference internal" href="07-mapping-and-nested-data-frames.html">Lecture 7: Mapping and nested data frames</a></li>
<li class="toctree-l1"><a class="reference internal" href="08-lecture-tidy-evaluation.html">Lecture 8: Tidy evaluation</a></li>
</ul>

    </div>
</nav></div>
    </div>
  
  
  <div class="sidebar-primary-items__end sidebar-primary__section">
  </div>
  
  <div id="rtd-footer-container"></div>


      </div>
      
      <main id="main-content" class="bd-main">
        
        

<div class="sbt-scroll-pixel-helper"></div>

          <div class="bd-content">
            <div class="bd-article-container">
              
              <div class="bd-header-article">
<div class="header-article-items header-article__inner">
  
    <div class="header-article-items__start">
      
        <div class="header-article-item"><label class="sidebar-toggle primary-toggle btn btn-sm" for="__primary" title="Toggle primary sidebar" data-bs-placement="bottom" data-bs-toggle="tooltip">
  <span class="fa-solid fa-bars"></span>
</label></div>
      
    </div>
  
  
    <div class="header-article-items__end">
      
        <div class="header-article-item">

<div class="article-header-buttons">





<div class="dropdown dropdown-source-buttons">
  <button class="btn dropdown-toggle" type="button" data-bs-toggle="dropdown" aria-expanded="false" aria-label="Source repositories">
    <i class="fab fa-github"></i>
  </button>
  <ul class="dropdown-menu">
      
      
      
      <li><a href="https://github.ubc.ca/mds-2023-24/DSCI_523_r-prog_students" target="_blank"
   class="btn btn-sm btn-source-repository-button dropdown-item"
   title="Source repository"
   data-bs-placement="left" data-bs-toggle="tooltip"
>
  

<span class="btn__icon-container">
  <i class="fab fa-github"></i>
  </span>
<span class="btn__text-container">Repository</span>
</a>
</li>
      
      
      
      
      <li><a href="https://github.ubc.ca/mds-2023-24/DSCI_523_r-prog_students/issues/new?title=Issue%20on%20page%20%2Flecture-notes/02-data-types-and-operators.html&body=Your%20issue%20content%20here." target="_blank"
   class="btn btn-sm btn-source-issues-button dropdown-item"
   title="Open an issue"
   data-bs-placement="left" data-bs-toggle="tooltip"
>
  

<span class="btn__icon-container">
  <i class="fas fa-lightbulb"></i>
  </span>
<span class="btn__text-container">Open issue</span>
</a>
</li>
      
  </ul>
</div>






<div class="dropdown dropdown-download-buttons">
  <button class="btn dropdown-toggle" type="button" data-bs-toggle="dropdown" aria-expanded="false" aria-label="Download this page">
    <i class="fas fa-download"></i>
  </button>
  <ul class="dropdown-menu">
      
      
      
      <li><a href="../_sources/lecture-notes/02-data-types-and-operators.ipynb" target="_blank"
   class="btn btn-sm btn-download-source-button dropdown-item"
   title="Download source file"
   data-bs-placement="left" data-bs-toggle="tooltip"
>
  

<span class="btn__icon-container">
  <i class="fas fa-file"></i>
  </span>
<span class="btn__text-container">.ipynb</span>
</a>
</li>
      
      
      
      
      <li>
<button onclick="window.print()"
  class="btn btn-sm btn-download-pdf-button dropdown-item"
  title="Print to PDF"
  data-bs-placement="left" data-bs-toggle="tooltip"
>
  

<span class="btn__icon-container">
  <i class="fas fa-file-pdf"></i>
  </span>
<span class="btn__text-container">.pdf</span>
</button>
</li>
      
  </ul>
</div>




<button onclick="toggleFullScreen()"
  class="btn btn-sm btn-fullscreen-button"
  title="Fullscreen mode"
  data-bs-placement="bottom" data-bs-toggle="tooltip"
>
  

<span class="btn__icon-container">
  <i class="fas fa-expand"></i>
  </span>

</button>


<script>
document.write(`
  <button class="btn btn-sm navbar-btn theme-switch-button" title="light/dark" aria-label="light/dark" data-bs-placement="bottom" data-bs-toggle="tooltip">
    <span class="theme-switch nav-link" data-mode="light"><i class="fa-solid fa-sun fa-lg"></i></span>
    <span class="theme-switch nav-link" data-mode="dark"><i class="fa-solid fa-moon fa-lg"></i></span>
    <span class="theme-switch nav-link" data-mode="auto"><i class="fa-solid fa-circle-half-stroke fa-lg"></i></span>
  </button>
`);
</script>

<script>
document.write(`
  <button class="btn btn-sm navbar-btn search-button search-button__button" title="Search" aria-label="Search" data-bs-placement="bottom" data-bs-toggle="tooltip">
    <i class="fa-solid fa-magnifying-glass fa-lg"></i>
  </button>
`);
</script>
<label class="sidebar-toggle secondary-toggle btn btn-sm" for="__secondary"title="Toggle secondary sidebar" data-bs-placement="bottom" data-bs-toggle="tooltip">
    <span class="fa-solid fa-list"></span>
</label>
</div></div>
      
    </div>
  
</div>
</div>
              
              

<div id="jb-print-docs-body" class="onlyprint">
    <h1>Lecture 2 -  Key datatypes & operators in R</h1>
    <!-- Table of contents -->
    <div id="print-main-content">
        <div id="jb-print-toc">
            
            <div>
                <h2> Contents </h2>
            </div>
            <nav aria-label="Page">
                <ul class="visible nav section-nav flex-column">
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#lecture-learning-objectives">Lecture learning objectives:</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#getting-help-in-r">Getting help in R</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#the-assignment-symbol">The assignment symbol, <code class="docutils literal notranslate"><span class="pre">&lt;-</span></code></a><ul class="nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#assignment-readability">Assignment readability</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#assignment-environment">Assignment environment</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#what-does-assignment-do-in-r">What does assignment do in R?</a></li>
</ul>
</li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#a-note-on-names">A note on names</a><ul class="nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#rules-for-syntactic-names">Rules for syntactic names:</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#how-to-manage-non-syntactic-names">How to manage non-syntactic names</a></li>
</ul>
</li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#key-datatypes-in-r">Key datatypes in R</a><ul class="nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#what-is-a-data-frame">What is a data frame?</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#id1">What is a data frame?</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#what-is-a-vector">What is a vector?</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#how-are-vectors-different-from-a-list">How are vectors different from a list?</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#reminder-what-do-lists-have-to-do-with-data-frames">Reminder: what do lists have to do with data frames?</a></li>
</ul>
</li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#a-bit-more-about-vectors">A bit more about Vectors</a><ul class="nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#creating-vectors-and-vector-types">Creating vectors and vector types</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#what-happens-to-vectors-of-mixed-type">What happens to vectors of mixed type?</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#useful-functions-for-testing-type-and-forcing-coercion">Useful functions for testing type and forcing coercion:</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#how-to-subset-and-modify-vectors">How to subset and modify vectors</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#subsetting">Subsetting</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#modifing-vectors">Modifing vectors</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#what-happens-when-you-modify-a-vector-in-r">What happens when you modify a vector in R?</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#why-copy-on-modify">Why copy-on-modify</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#why-do-we-care-about-knowing-this">Why do we care about knowing this?</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#why-vectors">Why vectors?</a></li>
</ul>
</li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#extending-our-knowledge-to-data-frames">Extending our knowledge to data frames</a><ul class="nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#getting-to-know-a-data-frame">Getting to know a data frame</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#subsetting-and-modifying-data-frames">Subsetting and modifying data frames</a></li>
</ul>
</li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#other-r-objects">Other R objects</a><ul class="nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#logical-indexing-of-data-frames">Logical indexing of data frames</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#modifing-data-frames">Modifing data frames</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#what-happens-when-we-modify-an-entire-column-or-a-row">What happens when we modify an entire column? or a row?</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#how-r-represents-data-frames">How R represents data frames:</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#id2">How R represents data frames:</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#id3">How R represents data frames:</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#an-exception-to-copy-on-modify">An exception to copy-on-modify</a></li>
</ul>
</li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#writing-readable-r-code">Writing readable R code</a><ul class="nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#sample-code-not-in-tidyverse-style">Sample code <strong>not</strong> in tidyverse style</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#sample-code-in-tidyverse-style">Sample code in tidyverse style</a></li>
</ul>
</li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#what-did-we-learn-today">What did we learn today?</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#additional-resources">Additional resources:</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#attribution">Attribution:</a></li>
</ul>
            </nav>
        </div>
    </div>
</div>

              
                
<div id="searchbox"></div>
                <article class="bd-article" role="main">
                  
  <section id="lecture-2-key-datatypes-operators-in-r">
<h1>Lecture 2 -  Key datatypes &amp; operators in R<a class="headerlink" href="#lecture-2-key-datatypes-operators-in-r" title="Permalink to this heading">#</a></h1>
<section id="lecture-learning-objectives">
<h2>Lecture learning objectives:<a class="headerlink" href="#lecture-learning-objectives" title="Permalink to this heading">#</a></h2>
<p>By the end of this lecture and worksheet 2, students should be able to:</p>
<ul class="simple">
<li><p>Explain how the assignment symbol, <code class="docutils literal notranslate"><span class="pre">&lt;-</span></code> differs from <code class="docutils literal notranslate"><span class="pre">=</span></code> in R</p></li>
<li><p>Create in R, and define and differentiate in English, the below listed key datatypes in R:</p>
<ul>
<li><p>logical, numeric, character and factor vectors</p></li>
<li><p>lists</p></li>
<li><p>data frames and tibbles</p></li>
</ul>
</li>
<li><p>Use R to determine the type and structure of an object</p></li>
<li><p>Explain the distinction between names and values, and when R will copy an object.</p></li>
<li><p>Use the three subsetting operators, <code class="docutils literal notranslate"><span class="pre">[[</span></code>, <code class="docutils literal notranslate"><span class="pre">[</span></code>, and <code class="docutils literal notranslate"><span class="pre">$</span></code>, to subset single and multiple elements from vectors and data frames, lists and matrices</p></li>
<li><p>Compute numeric and boolean values using their respective types and operations</p></li>
</ul>
</section>
<section id="getting-help-in-r">
<h2>Getting help in R<a class="headerlink" href="#getting-help-in-r" title="Permalink to this heading">#</a></h2>
<p>No one, even experienced, professional programmers remember what every function does, nor do they remember every possible function argument/option. So both experienced and new programmers ( like you! ) need to look things up, A LOT!</p>
<p>One of the most efficient places to look for help on how a function works is the R help files. Let’s say we wanted to pull up the help file for the <code class="docutils literal notranslate"><span class="pre">max()</span></code> function. We can do this by typing a question mark in front of the function we want to know more about.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-r notranslate"><div class="highlight"><pre><span></span><span class="o">?</span><span class="n">max</span>
</pre></div>
</div>
</div>
</div>
<p>At the very top of the file, you will see the function itself and the package it is in (in this case, it is base). Next is a description of what the function does. You’ll find that the most helpful sections on this page are “Usage”, “Arguments” and “Examples”.</p>
<ul class="simple">
<li><p><strong>Usage</strong> gives you an idea of how you would use the function when coding–what the syntax would be and how the function itself is structured.</p></li>
<li><p><strong>Arguments</strong> tells you the different parts that can be added to the function to make it more simple or more complicated. Often the “Usage” and “Arguments” sections don’t provide you with step by step instructions, because there are so many different ways that a person can incorporate a function into their code. Instead, they provide users with a general understanding as to what the function could do and parts that could be added. At the end of the day, the user must interpret the help file and figure out how best to use the functions and which parts are most important to include for their particular task.</p></li>
<li><p>The <strong>Examples</strong> section is often the most useful part of the help file as it shows how a function could be used with real data. It provides a skeleton code that the users can work off of.</p></li>
</ul>
<p>Below is a useful graphical summary of the help docs that might be useful to start getting you oriented to them:</p>
<img alt="https://socviz.co/assets/ch-09-read-a-help-page.png" src="https://socviz.co/assets/ch-09-read-a-help-page.png" />
<p><em>Source: https://socviz.co/appendix.html#a-little-more-about-r</em></p>
</section>
<section id="the-assignment-symbol">
<h2>The assignment symbol, <code class="docutils literal notranslate"><span class="pre">&lt;-</span></code><a class="headerlink" href="#the-assignment-symbol" title="Permalink to this heading">#</a></h2>
<ul class="simple">
<li><p>R came from S, S used <code class="docutils literal notranslate"><span class="pre">&lt;-</span></code></p></li>
<li><p>S was inspired from APL, which also used <code class="docutils literal notranslate"><span class="pre">&lt;-</span></code></p></li>
<li><p>APL was designed on a specific keyboard, which had a key for <code class="docutils literal notranslate"><span class="pre">&lt;-</span></code></p></li>
<li><p>At that time there was no <code class="docutils literal notranslate"><span class="pre">==</span></code> for testing equality, it was tested with <code class="docutils literal notranslate"><span class="pre">=</span></code>, so something else need to be used for assignment.</p></li>
</ul>
<img alt="https://upload.wikimedia.org/wikipedia/commons/thumb/9/9f/APL-keybd2.svg/410px-APL-keybd2.svg.png" src="https://upload.wikimedia.org/wikipedia/commons/thumb/9/9f/APL-keybd2.svg/410px-APL-keybd2.svg.png" />
<p>source: https://colinfay.me/r-assignment/</p>
<ul class="simple">
<li><p>Nowadays, <code class="docutils literal notranslate"><span class="pre">=</span></code> can also be used for assignment, however there are some things to be aware of…</p></li>
</ul>
<ul class="simple">
<li><p>stylistically, <code class="docutils literal notranslate"><span class="pre">&lt;-</span></code> is preferred over <code class="docutils literal notranslate"><span class="pre">=</span></code> for readability</p></li>
</ul>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">&lt;-</span></code> and <code class="docutils literal notranslate"><span class="pre">-&gt;</span></code> are valid in R, the latter can be useful in pipelines (more on this in data wrangling)</p></li>
</ul>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">&lt;-</span></code> and <code class="docutils literal notranslate"><span class="pre">=</span></code> have different emphasis in regards to environments</p></li>
</ul>
<ul class="simple">
<li><p><strong>we expect you to use <code class="docutils literal notranslate"><span class="pre">&lt;-</span></code> in MDS for object assignment in R</strong></p></li>
</ul>
<section id="assignment-readability">
<h3>Assignment readability<a class="headerlink" href="#assignment-readability" title="Permalink to this heading">#</a></h3>
<p>Consider this code:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">c</span> <span class="o">&lt;-</span> <span class="mi">12</span>
<span class="n">d</span> <span class="o">&lt;-</span> <span class="mi">13</span>
</pre></div>
</div>
<p>Which equality is easier to read?</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">e</span> <span class="o">=</span> <span class="n">c</span> <span class="o">==</span> <span class="n">d</span>
</pre></div>
</div>
<p>or</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">e</span> <span class="o">&lt;-</span> <span class="n">c</span> <span class="o">==</span> <span class="n">d</span>
</pre></div>
</div>
</section>
<section id="assignment-environment">
<h3>Assignment environment<a class="headerlink" href="#assignment-environment" title="Permalink to this heading">#</a></h3>
<p>What value does x hold at the end of each of these code chunks?</p>
<p><code class="docutils literal notranslate"><span class="pre">median(x</span> <span class="pre">=</span> <span class="pre">1:10)</span></code></p>
<p>vs</p>
<p><code class="docutils literal notranslate"><span class="pre">median(x</span> <span class="pre">&lt;-</span> <span class="pre">1:10)</span></code></p>
<p>Here, in the first example where <code class="docutils literal notranslate"><span class="pre">=</span></code> is used to set <code class="docutils literal notranslate"><span class="pre">x</span></code>, <code class="docutils literal notranslate"><span class="pre">x</span></code> only exists in the <code class="docutils literal notranslate"><span class="pre">median</span></code> function call, so we are returned the result from that function call, however, when we call <code class="docutils literal notranslate"><span class="pre">x</span></code> later, it does not exist and so R returns an error.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">median</span><span class="p">(</span><span class="n">x</span> <span class="o">=</span> <span class="mi">1</span><span class="p">:</span><span class="mi">10</span><span class="p">)</span>
<span class="n">x</span>
</pre></div>
</div>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="mf">5.5</span>
<span class="n">Error</span> <span class="ow">in</span> <span class="nb">eval</span><span class="p">(</span><span class="n">expr</span><span class="p">,</span> <span class="n">envir</span><span class="p">,</span> <span class="n">enclos</span><span class="p">):</span> <span class="nb">object</span> <span class="s1">&#39;x&#39;</span> <span class="ow">not</span> <span class="n">found</span>
<span class="n">Traceback</span><span class="p">:</span>
</pre></div>
</div>
<p>Here, in the second example where <code class="docutils literal notranslate"><span class="pre">&lt;-</span></code> is used to set <code class="docutils literal notranslate"><span class="pre">x</span></code>, <code class="docutils literal notranslate"><span class="pre">x</span></code> exists in the median function call, <strong>and</strong> in the global environment (outside the <code class="docutils literal notranslate"><span class="pre">median</span></code> function call). So when we call <code class="docutils literal notranslate"><span class="pre">x</span></code> later, it <strong>does</strong> exist and so R returns the value that the name <code class="docutils literal notranslate"><span class="pre">x</span></code> is bound to.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">median</span><span class="p">(</span><span class="n">x</span> <span class="o">&lt;-</span> <span class="mi">1</span><span class="p">:</span><span class="mi">10</span><span class="p">)</span>
<span class="n">x</span>
</pre></div>
</div>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="mf">5.5</span>
<span class="mi">1</span> <span class="mi">2</span> <span class="mi">3</span> <span class="mi">4</span> <span class="mi">5</span> <span class="mi">6</span> <span class="mi">7</span> <span class="mi">8</span> <span class="mi">9</span> <span class="mi">10</span>
</pre></div>
</div>
</section>
<section id="what-does-assignment-do-in-r">
<h3>What does assignment do in R?<a class="headerlink" href="#what-does-assignment-do-in-r" title="Permalink to this heading">#</a></h3>
<p>When you type this into R: <code class="docutils literal notranslate"><span class="pre">x</span> <span class="pre">&lt;-</span> <span class="pre">c(1,</span> <span class="pre">2,</span> <span class="pre">3)</span></code></p>
<p>This is what R does:</p>
<a class="reference internal image-reference" href="https://d33wubrfki0l68.cloudfront.net/bd90c87ac98708b1731c92900f2f53ec6a71edaf/ce375/diagrams/name-value/binding-1.png"><img alt="https://d33wubrfki0l68.cloudfront.net/bd90c87ac98708b1731c92900f2f53ec6a71edaf/ce375/diagrams/name-value/binding-1.png" src="https://d33wubrfki0l68.cloudfront.net/bd90c87ac98708b1731c92900f2f53ec6a71edaf/ce375/diagrams/name-value/binding-1.png" style="width: 300px;" /></a>
<p><em>Source: <a class="reference external" href="https://adv-r.hadley.nz/">Advanced R</a> by Hadley Wickham</em></p>
<p>What does this mean? It means that even if you don’t bind a name to an object in R using <code class="docutils literal notranslate"><span class="pre">&lt;-</span></code>, it still exists somewhere in memory during the R session it was created in. This is typically not a problem unless your data sets are very large.</p>
</section>
</section>
<section id="a-note-on-names">
<h2>A note on names<a class="headerlink" href="#a-note-on-names" title="Permalink to this heading">#</a></h2>
<section id="rules-for-syntactic-names">
<h3>Rules for syntactic names:<a class="headerlink" href="#rules-for-syntactic-names" title="Permalink to this heading">#</a></h3>
<ul class="simple">
<li><p>May use: letters, digits, <code class="docutils literal notranslate"><span class="pre">.</span></code> and <code class="docutils literal notranslate"><span class="pre">_</span></code></p></li>
<li><p>Cannot begin with <code class="docutils literal notranslate"><span class="pre">_</span></code> or a digit</p></li>
<li><p>Cannot use reserved words (e.g., <code class="docutils literal notranslate"><span class="pre">for</span></code>, <code class="docutils literal notranslate"><span class="pre">if</span></code>, <code class="docutils literal notranslate"><span class="pre">return</span></code>)</p></li>
</ul>
</section>
<section id="how-to-manage-non-syntactic-names">
<h3>How to manage non-syntactic names<a class="headerlink" href="#how-to-manage-non-syntactic-names" title="Permalink to this heading">#</a></h3>
<ul class="simple">
<li><p>Usually come across these when reading in someone else’s data</p></li>
<li><p>Backticks, `, can be used manage these cases (e.g., <code class="docutils literal notranslate"><span class="pre">`_abc`</span> <span class="pre">&lt;-</span> <span class="pre">1</span></code>)</p></li>
<li><p>If your data contains these, use R to rename things to make them syntactic (for your future sanity)</p></li>
</ul>
</section>
</section>
<section id="key-datatypes-in-r">
<h2>Key datatypes in R<a class="headerlink" href="#key-datatypes-in-r" title="Permalink to this heading">#</a></h2>
<a class="reference internal image-reference" href="../_images/r-datatypes.png"><img alt="../_images/r-datatypes.png" src="../_images/r-datatypes.png" style="width: 1000px;" /></a>
<p><em>note - There are no scalars in R, they are represented by vectors of length 1.</em></p>
<p><em>Source: <a class="reference external" href="https://adv-r.hadley.nz/">Advanced R</a> by Hadley Wickham</em></p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">NULL</span></code> is not a vector, but related and frequently functions in the role of a generic zero length vector.</p></li>
</ul>
<section id="what-is-a-data-frame">
<h3>What is a data frame?<a class="headerlink" href="#what-is-a-data-frame" title="Permalink to this heading">#</a></h3>
<p>From a data perspective, it is a rectangle where the rows are the observations and the columns are variables:</p>
<a class="reference internal image-reference" href="https://github.com/UBC-DSCI/introduction-to-datascience/blob/main/img/wrangling/data_frame_slides_cdn.004.jpeg?raw=true"><img alt="https://github.com/UBC-DSCI/introduction-to-datascience/blob/main/img/wrangling/data_frame_slides_cdn.004.jpeg?raw=true" src="https://github.com/UBC-DSCI/introduction-to-datascience/blob/main/img/wrangling/data_frame_slides_cdn.004.jpeg?raw=true" style="width: 800px;" /></a>
</section>
<section id="id1">
<h3>What is a data frame?<a class="headerlink" href="#id1" title="Permalink to this heading">#</a></h3>
<p>From a computer programming perspective, in R, a data frame is a special subtype of a list object whose elements (columns) are vectors.</p>
<a class="reference internal image-reference" href="https://github.com/UBC-DSCI/introduction-to-datascience/blob/main/img/wrangling/data_frame_slides_cdn.005.jpeg?raw=true"><img alt="https://github.com/UBC-DSCI/introduction-to-datascience/blob/main/img/wrangling/data_frame_slides_cdn.005.jpeg?raw=true" src="https://github.com/UBC-DSCI/introduction-to-datascience/blob/main/img/wrangling/data_frame_slides_cdn.005.jpeg?raw=true" style="width: 800px;" /></a>
<p><strong>Question:</strong> What do you notice about the elements of each of the vectors in this data frame?</p>
</section>
<section id="what-is-a-vector">
<h3>What is a vector?<a class="headerlink" href="#what-is-a-vector" title="Permalink to this heading">#</a></h3>
<ul class="simple">
<li><p>objects that can contain 1 or more elements</p></li>
<li><p>elements are ordered</p></li>
<li><p>must all be of the same type (e.g., double, integer, character, logical)</p></li>
</ul>
<a class="reference internal image-reference" href="https://github.com/UBC-DSCI/introduction-to-datascience/blob/main/img/wrangling/data_frame_slides_cdn.007.jpeg?raw=true"><img alt="https://github.com/UBC-DSCI/introduction-to-datascience/blob/main/img/wrangling/data_frame_slides_cdn.007.jpeg?raw=true" src="https://github.com/UBC-DSCI/introduction-to-datascience/blob/main/img/wrangling/data_frame_slides_cdn.007.jpeg?raw=true" style="width: 800px;" /></a>
</section>
<section id="how-are-vectors-different-from-a-list">
<h3>How are vectors different from a list?<a class="headerlink" href="#how-are-vectors-different-from-a-list" title="Permalink to this heading">#</a></h3>
<a class="reference internal image-reference" href="https://github.com/UBC-DSCI/introduction-to-datascience/blob/main/img/wrangling/data_frame_slides_cdn.008.jpeg?raw=true"><img alt="https://github.com/UBC-DSCI/introduction-to-datascience/blob/main/img/wrangling/data_frame_slides_cdn.008.jpeg?raw=true" src="https://github.com/UBC-DSCI/introduction-to-datascience/blob/main/img/wrangling/data_frame_slides_cdn.008.jpeg?raw=true" style="width: 800px;" /></a>
</section>
<section id="reminder-what-do-lists-have-to-do-with-data-frames">
<h3>Reminder: what do lists have to do with data frames?<a class="headerlink" href="#reminder-what-do-lists-have-to-do-with-data-frames" title="Permalink to this heading">#</a></h3>
<a class="reference internal image-reference" href="https://github.com/UBC-DSCI/introduction-to-datascience/blob/main/img/wrangling/data_frame_slides_cdn.009.jpeg?raw=true"><img alt="https://github.com/UBC-DSCI/introduction-to-datascience/blob/main/img/wrangling/data_frame_slides_cdn.009.jpeg?raw=true" src="https://github.com/UBC-DSCI/introduction-to-datascience/blob/main/img/wrangling/data_frame_slides_cdn.009.jpeg?raw=true" style="width: 800px;" /></a>
</section>
</section>
<section id="a-bit-more-about-vectors">
<h2>A bit more about Vectors<a class="headerlink" href="#a-bit-more-about-vectors" title="Permalink to this heading">#</a></h2>
<p>Your closest and most important friend in R</p>
<a class="reference internal image-reference" href="https://media.giphy.com/media/EQCgmS4lwDS8g/giphy.gif"><img alt="https://media.giphy.com/media/EQCgmS4lwDS8g/giphy.gif" src="https://media.giphy.com/media/EQCgmS4lwDS8g/giphy.gif" style="width: 800px;" /></a>
<section id="creating-vectors-and-vector-types">
<h3>Creating vectors and vector types<a class="headerlink" href="#creating-vectors-and-vector-types" title="Permalink to this heading">#</a></h3>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-r notranslate"><div class="highlight"><pre><span></span><span class="n">char_vec</span><span class="w"> </span><span class="o">&lt;-</span><span class="w"> </span><span class="nf">c</span><span class="p">(</span><span class="s">&quot;joy&quot;</span><span class="p">,</span><span class="w"> </span><span class="s">&quot;peace&quot;</span><span class="p">,</span><span class="w"> </span><span class="s">&quot;help&quot;</span><span class="p">,</span><span class="w"> </span><span class="s">&quot;fun&quot;</span><span class="p">,</span><span class="w"> </span><span class="s">&quot;sharing&quot;</span><span class="p">)</span>
<span class="n">char_vec</span>
<span class="nf">typeof</span><span class="p">(</span><span class="n">char_vec</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_html"><style>
.list-inline {list-style: none; margin:0; padding: 0}
.list-inline>li {display: inline-block}
.list-inline>li:not(:last-child)::after {content: "\00b7"; padding: 0 .5ex}
</style>
<ol class=list-inline><li>'joy'</li><li>'peace'</li><li>'help'</li><li>'fun'</li><li>'sharing'</li></ol>
</div><div class="output text_html">'character'</div></div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-r notranslate"><div class="highlight"><pre><span></span><span class="n">log_vec</span><span class="w"> </span><span class="o">&lt;-</span><span class="w"> </span><span class="nf">c</span><span class="p">(</span><span class="kc">TRUE</span><span class="p">,</span><span class="w"> </span><span class="kc">TRUE</span><span class="p">,</span><span class="w"> </span><span class="kc">FALSE</span><span class="p">,</span><span class="w"> </span><span class="kc">FALSE</span><span class="p">,</span><span class="w"> </span><span class="kc">TRUE</span><span class="p">)</span>
<span class="n">log_vec</span>
<span class="nf">typeof</span><span class="p">(</span><span class="n">log_vec</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_html"><style>
.list-inline {list-style: none; margin:0; padding: 0}
.list-inline>li {display: inline-block}
.list-inline>li:not(:last-child)::after {content: "\00b7"; padding: 0 .5ex}
</style>
<ol class=list-inline><li>TRUE</li><li>TRUE</li><li>FALSE</li><li>FALSE</li><li>TRUE</li></ol>
</div><div class="output text_html">'logical'</div></div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-r notranslate"><div class="highlight"><pre><span></span><span class="n">double_vec</span><span class="w"> </span><span class="o">&lt;-</span><span class="w"> </span><span class="nf">c</span><span class="p">(</span><span class="m">1</span><span class="p">,</span><span class="w"> </span><span class="m">2</span><span class="p">,</span><span class="w"> </span><span class="m">3</span><span class="p">,</span><span class="w"> </span><span class="m">4</span><span class="p">,</span><span class="w"> </span><span class="m">5</span><span class="p">)</span>
<span class="n">double_vec</span>
<span class="nf">typeof</span><span class="p">(</span><span class="n">double_vec</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_html"><style>
.list-inline {list-style: none; margin:0; padding: 0}
.list-inline>li {display: inline-block}
.list-inline>li:not(:last-child)::after {content: "\00b7"; padding: 0 .5ex}
</style>
<ol class=list-inline><li>1</li><li>2</li><li>3</li><li>4</li><li>5</li></ol>
</div><div class="output text_html">'double'</div></div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-r notranslate"><div class="highlight"><pre><span></span><span class="n">int_vec</span><span class="w"> </span><span class="o">&lt;-</span><span class="w"> </span><span class="nf">c</span><span class="p">(</span><span class="m">1L</span><span class="p">,</span><span class="w"> </span><span class="m">2L</span><span class="p">,</span><span class="w"> </span><span class="m">3L</span><span class="p">,</span><span class="w"> </span><span class="m">4L</span><span class="p">,</span><span class="w"> </span><span class="m">5L</span><span class="p">)</span>
<span class="n">int_vec</span>
<span class="nf">typeof</span><span class="p">(</span><span class="n">int_vec</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_html"><style>
.list-inline {list-style: none; margin:0; padding: 0}
.list-inline>li {display: inline-block}
.list-inline>li:not(:last-child)::after {content: "\00b7"; padding: 0 .5ex}
</style>
<ol class=list-inline><li>1</li><li>2</li><li>3</li><li>4</li><li>5</li></ol>
</div><div class="output text_html">'integer'</div></div>
</div>
<p><code class="docutils literal notranslate"><span class="pre">str</span></code> is a useful command to get even more information about an object:</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-r notranslate"><div class="highlight"><pre><span></span><span class="nf">str</span><span class="p">(</span><span class="n">int_vec</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span> int [1:5] 1 2 3 4 5
</pre></div>
</div>
</div>
</div>
</section>
<section id="what-happens-to-vectors-of-mixed-type">
<h3>What happens to vectors of mixed type?<a class="headerlink" href="#what-happens-to-vectors-of-mixed-type" title="Permalink to this heading">#</a></h3>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-r notranslate"><div class="highlight"><pre><span></span><span class="n">mixed_vec</span><span class="w"> </span><span class="o">&lt;-</span><span class="w"> </span><span class="nf">c</span><span class="p">(</span><span class="s">&quot;joy&quot;</span><span class="p">,</span><span class="w"> </span><span class="m">5.6</span><span class="p">,</span><span class="w"> </span><span class="kc">TRUE</span><span class="p">,</span><span class="w"> </span><span class="m">1L</span><span class="p">,</span><span class="w"> </span><span class="s">&quot;sharing&quot;</span><span class="p">)</span>
<span class="nf">typeof</span><span class="p">(</span><span class="n">mixed_vec</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_html">'character'</div></div>
</div>
<p>Hierarchy for coercion:</p>
<p>character → double → integer → logical</p>
</section>
<section id="useful-functions-for-testing-type-and-forcing-coercion">
<h3>Useful functions for testing type and forcing coercion:<a class="headerlink" href="#useful-functions-for-testing-type-and-forcing-coercion" title="Permalink to this heading">#</a></h3>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">is.logical()</span></code>, <code class="docutils literal notranslate"><span class="pre">is.integer()</span></code>, <code class="docutils literal notranslate"><span class="pre">is.double()</span></code>, and <code class="docutils literal notranslate"><span class="pre">is.character()</span></code> returns <code class="docutils literal notranslate"><span class="pre">TRUE</span></code> or <code class="docutils literal notranslate"><span class="pre">FALSE</span></code>, depending on type of object and function used.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">as.logical()</span></code>, <code class="docutils literal notranslate"><span class="pre">as.integer()</span></code>,<code class="docutils literal notranslate"> <span class="pre">as.double()</span></code>, or <code class="docutils literal notranslate"><span class="pre">as.character()</span></code> coerce vector to type specified by function name.</p></li>
</ul>
</section>
<section id="how-to-subset-and-modify-vectors">
<h3>How to subset and modify vectors<a class="headerlink" href="#how-to-subset-and-modify-vectors" title="Permalink to this heading">#</a></h3>
<a class="reference internal image-reference" href="https://media.giphy.com/media/l4pTocra1lFDomV5S/giphy.gif"><img alt="https://media.giphy.com/media/l4pTocra1lFDomV5S/giphy.gif" src="https://media.giphy.com/media/l4pTocra1lFDomV5S/giphy.gif" style="width: 700px;" /></a>
</section>
<section id="subsetting">
<h3>Subsetting<a class="headerlink" href="#subsetting" title="Permalink to this heading">#</a></h3>
<ul class="simple">
<li><p>R counts from 1!!!</p></li>
</ul>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-r notranslate"><div class="highlight"><pre><span></span><span class="n">name</span><span class="w"> </span><span class="o">&lt;-</span><span class="w"> </span><span class="nf">c</span><span class="p">(</span><span class="s">&quot;T&quot;</span><span class="p">,</span><span class="w"> </span><span class="s">&quot;i&quot;</span><span class="p">,</span><span class="w"> </span><span class="s">&quot;f&quot;</span><span class="p">,</span><span class="w"> </span><span class="s">&quot;f&quot;</span><span class="p">,</span><span class="w"> </span><span class="s">&quot;a&quot;</span><span class="p">,</span><span class="w"> </span><span class="s">&quot;n&quot;</span><span class="p">,</span><span class="w"> </span><span class="s">&quot;y&quot;</span><span class="p">)</span>
</pre></div>
</div>
</div>
</div>
<p>What letter will I get in R? What would I get in Python?</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-r notranslate"><div class="highlight"><pre><span></span><span class="n">name</span><span class="p">[</span><span class="m">2</span><span class="p">]</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_html">'i'</div></div>
</div>
<p>What letters will I get in R? What would I get in Python?</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">name</span> <span class="o">&lt;-</span> <span class="n">c</span><span class="p">(</span><span class="s2">&quot;T&quot;</span><span class="p">,</span> <span class="s2">&quot;i&quot;</span><span class="p">,</span> <span class="s2">&quot;f&quot;</span><span class="p">,</span> <span class="s2">&quot;f&quot;</span><span class="p">,</span> <span class="s2">&quot;a&quot;</span><span class="p">,</span> <span class="s2">&quot;n&quot;</span><span class="p">,</span> <span class="s2">&quot;y&quot;</span><span class="p">)</span>
</pre></div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-r notranslate"><div class="highlight"><pre><span></span><span class="n">name</span><span class="p">[</span><span class="m">2</span><span class="o">:</span><span class="m">4</span><span class="p">]</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_html"><style>
.list-inline {list-style: none; margin:0; padding: 0}
.list-inline>li {display: inline-block}
.list-inline>li:not(:last-child)::after {content: "\00b7"; padding: 0 .5ex}
</style>
<ol class=list-inline><li>'i'</li><li>'f'</li><li>'f'</li></ol>
</div></div>
</div>
<p>What letter will I get in R? What would I get in Python?</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">name</span> <span class="o">&lt;-</span> <span class="n">c</span><span class="p">(</span><span class="s2">&quot;T&quot;</span><span class="p">,</span> <span class="s2">&quot;i&quot;</span><span class="p">,</span> <span class="s2">&quot;f&quot;</span><span class="p">,</span> <span class="s2">&quot;f&quot;</span><span class="p">,</span> <span class="s2">&quot;a&quot;</span><span class="p">,</span> <span class="s2">&quot;n&quot;</span><span class="p">,</span> <span class="s2">&quot;y&quot;</span><span class="p">)</span>
</pre></div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-r notranslate"><div class="highlight"><pre><span></span><span class="n">name</span><span class="p">[</span><span class="m">-1</span><span class="p">]</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_html"><style>
.list-inline {list-style: none; margin:0; padding: 0}
.list-inline>li {display: inline-block}
.list-inline>li:not(:last-child)::after {content: "\00b7"; padding: 0 .5ex}
</style>
<ol class=list-inline><li>'i'</li><li>'f'</li><li>'f'</li><li>'a'</li><li>'n'</li><li>'y'</li></ol>
</div></div>
</div>
<p>How do I get the last element in a vector in R?</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">name</span> <span class="o">&lt;-</span> <span class="n">c</span><span class="p">(</span><span class="s2">&quot;T&quot;</span><span class="p">,</span> <span class="s2">&quot;i&quot;</span><span class="p">,</span> <span class="s2">&quot;f&quot;</span><span class="p">,</span> <span class="s2">&quot;f&quot;</span><span class="p">,</span> <span class="s2">&quot;a&quot;</span><span class="p">,</span> <span class="s2">&quot;n&quot;</span><span class="p">,</span> <span class="s2">&quot;y&quot;</span><span class="p">)</span>
</pre></div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-r notranslate"><div class="highlight"><pre><span></span><span class="n">name</span><span class="p">[</span><span class="nf">length</span><span class="p">(</span><span class="n">name</span><span class="p">)]</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_html">'y'</div></div>
</div>
</section>
<section id="modifing-vectors">
<h3>Modifing vectors<a class="headerlink" href="#modifing-vectors" title="Permalink to this heading">#</a></h3>
<p>We can combine the assignment symbol and subsetting to modify vectors:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">name</span> <span class="o">&lt;-</span> <span class="n">c</span><span class="p">(</span><span class="s2">&quot;T&quot;</span><span class="p">,</span> <span class="s2">&quot;i&quot;</span><span class="p">,</span> <span class="s2">&quot;f&quot;</span><span class="p">,</span> <span class="s2">&quot;f&quot;</span><span class="p">,</span> <span class="s2">&quot;a&quot;</span><span class="p">,</span> <span class="s2">&quot;n&quot;</span><span class="p">,</span> <span class="s2">&quot;y&quot;</span><span class="p">)</span>
</pre></div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-r notranslate"><div class="highlight"><pre><span></span><span class="n">name</span><span class="p">[</span><span class="m">1</span><span class="p">]</span><span class="w"> </span><span class="o">&lt;-</span><span class="w"> </span><span class="s">&quot;t&quot;</span>
<span class="n">name</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_html"><style>
.list-inline {list-style: none; margin:0; padding: 0}
.list-inline>li {display: inline-block}
.list-inline>li:not(:last-child)::after {content: "\00b7"; padding: 0 .5ex}
</style>
<ol class=list-inline><li>'t'</li><li>'i'</li><li>'f'</li><li>'f'</li><li>'a'</li><li>'n'</li><li>'y'</li></ol>
</div></div>
</div>
<p>This can be done for more than one element:</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-r notranslate"><div class="highlight"><pre><span></span><span class="n">name</span><span class="p">[</span><span class="m">1</span><span class="o">:</span><span class="m">3</span><span class="p">]</span><span class="w"> </span><span class="o">&lt;-</span><span class="w"> </span><span class="nf">c</span><span class="p">(</span><span class="s">&quot;T&quot;</span><span class="p">,</span><span class="w"> </span><span class="s">&quot;I&quot;</span><span class="p">,</span><span class="w"> </span><span class="s">&quot;F&quot;</span><span class="p">)</span>
<span class="n">name</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_html"><style>
.list-inline {list-style: none; margin:0; padding: 0}
.list-inline>li {display: inline-block}
.list-inline>li:not(:last-child)::after {content: "\00b7"; padding: 0 .5ex}
</style>
<ol class=list-inline><li>'T'</li><li>'I'</li><li>'F'</li><li>'f'</li><li>'a'</li><li>'n'</li><li>'y'</li></ol>
</div></div>
</div>
<p>What if you ask for elements that are not there?</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-r notranslate"><div class="highlight"><pre><span></span><span class="n">name</span><span class="p">[</span><span class="m">8</span><span class="o">:</span><span class="m">12</span><span class="p">]</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_html"><style>
.list-inline {list-style: none; margin:0; padding: 0}
.list-inline>li {display: inline-block}
.list-inline>li:not(:last-child)::after {content: "\00b7"; padding: 0 .5ex}
</style>
<ol class=list-inline><li>NA</li><li>NA</li><li>NA</li><li>NA</li><li>NA</li></ol>
</div></div>
</div>
<p>This syntax also lets you add additional elements:</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-r notranslate"><div class="highlight"><pre><span></span><span class="n">name</span><span class="p">[</span><span class="m">8</span><span class="o">:</span><span class="m">12</span><span class="p">]</span><span class="w"> </span><span class="o">&lt;-</span><span class="w"> </span><span class="nf">c</span><span class="p">(</span><span class="s">&quot;-&quot;</span><span class="p">,</span><span class="w"> </span><span class="s">&quot;A&quot;</span><span class="p">,</span><span class="w"> </span><span class="s">&quot;n&quot;</span><span class="p">,</span><span class="w"> </span><span class="s">&quot;n&quot;</span><span class="p">,</span><span class="w"> </span><span class="s">&quot;e&quot;</span><span class="p">)</span>
<span class="n">name</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_html"><style>
.list-inline {list-style: none; margin:0; padding: 0}
.list-inline>li {display: inline-block}
.list-inline>li:not(:last-child)::after {content: "\00b7"; padding: 0 .5ex}
</style>
<ol class=list-inline><li>'T'</li><li>'I'</li><li>'F'</li><li>'f'</li><li>'a'</li><li>'n'</li><li>'y'</li><li>'-'</li><li>'A'</li><li>'n'</li><li>'n'</li><li>'e'</li></ol>
</div></div>
</div>
</section>
<section id="what-happens-when-you-modify-a-vector-in-r">
<h3>What happens when you modify a vector in R?<a class="headerlink" href="#what-happens-when-you-modify-a-vector-in-r" title="Permalink to this heading">#</a></h3>
<p>Consider:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">x</span> <span class="o">&lt;-</span> <span class="n">c</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">)</span>
<span class="n">y</span> <span class="o">&lt;-</span> <span class="n">x</span>

<span class="n">y</span><span class="p">[</span><span class="mi">3</span><span class="p">]</span> <span class="o">&lt;-</span> <span class="mi">4</span>
<span class="n">y</span>
<span class="c1">#&gt; [1] 1 2 4</span>
</pre></div>
</div>
<p>What is happening in R’s memory for each line of code?</p>
<table class="colwidths-auto table">
<thead>
<tr class="row-odd"><th class="head"><p>Code</p></th>
<th class="head"><p>R’s memory representation</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">x</span> <span class="pre">&lt;-</span> <span class="pre">c(1,</span> <span class="pre">2,</span> <span class="pre">3)</span></code></p></td>
<td><p><a class="reference internal" href="https://d33wubrfki0l68.cloudfront.net/bd90c87ac98708b1731c92900f2f53ec6a71edaf/ce375/diagrams/name-value/binding-1.png"><img alt="https://d33wubrfki0l68.cloudfront.net/bd90c87ac98708b1731c92900f2f53ec6a71edaf/ce375/diagrams/name-value/binding-1.png" src="https://d33wubrfki0l68.cloudfront.net/bd90c87ac98708b1731c92900f2f53ec6a71edaf/ce375/diagrams/name-value/binding-1.png" style="width: 200px;" /></a></p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">y</span> <span class="pre">&lt;-</span> <span class="pre">x</span></code></p></td>
<td><p><a class="reference internal" href="https://d33wubrfki0l68.cloudfront.net/bdc72c04d3135f19fb3ab13731129eb84c9170af/f0ab9/diagrams/name-value/binding-2.png"><img alt="https://d33wubrfki0l68.cloudfront.net/bdc72c04d3135f19fb3ab13731129eb84c9170af/f0ab9/diagrams/name-value/binding-2.png" src="https://d33wubrfki0l68.cloudfront.net/bdc72c04d3135f19fb3ab13731129eb84c9170af/f0ab9/diagrams/name-value/binding-2.png" style="width: 200px;" /></a></p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">y[[3]]</span> <span class="pre">&lt;-</span> <span class="pre">4</span></code></p></td>
<td><p><a class="reference internal" href="https://d33wubrfki0l68.cloudfront.net/ef9f480effa2f1d0e401d1f94218d0cf118433c0/b56e9/diagrams/name-value/binding-3.png"><img alt="https://d33wubrfki0l68.cloudfront.net/ef9f480effa2f1d0e401d1f94218d0cf118433c0/b56e9/diagrams/name-value/binding-3.png" src="https://d33wubrfki0l68.cloudfront.net/ef9f480effa2f1d0e401d1f94218d0cf118433c0/b56e9/diagrams/name-value/binding-3.png" style="width: 200px;" /></a></p></td>
</tr>
</tbody>
</table>
<p>This is called “copy-on-modify”.</p>
<p><em>Source: <a class="reference external" href="https://adv-r.hadley.nz/">Advanced R</a> by Hadley Wickham</em></p>
</section>
<section id="why-copy-on-modify">
<h3>Why copy-on-modify<a class="headerlink" href="#why-copy-on-modify" title="Permalink to this heading">#</a></h3>
<ul class="simple">
<li><p>Since there are no scalars in R, vectors are essentially immutable</p></li>
<li><p>If you change one element of the vector, you have to copy the whole thing to update it</p></li>
</ul>
</section>
<section id="why-do-we-care-about-knowing-this">
<h3>Why do we care about knowing this?<a class="headerlink" href="#why-do-we-care-about-knowing-this" title="Permalink to this heading">#</a></h3>
<ul class="simple">
<li><p>Given that data frames are built on-top of vectors, this has implications for speed when working with large data frames</p></li>
</ul>
</section>
<section id="why-vectors">
<h3>Why vectors?<a class="headerlink" href="#why-vectors" title="Permalink to this heading">#</a></h3>
<p>Vectorized operations!</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-r notranslate"><div class="highlight"><pre><span></span><span class="nf">c</span><span class="p">(</span><span class="m">1</span><span class="p">,</span><span class="w"> </span><span class="m">2</span><span class="p">,</span><span class="w"> </span><span class="m">3</span><span class="p">,</span><span class="w"> </span><span class="m">4</span><span class="p">)</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="nf">c</span><span class="p">(</span><span class="m">1</span><span class="p">,</span><span class="w"> </span><span class="m">1</span><span class="p">,</span><span class="w"> </span><span class="m">1</span><span class="p">,</span><span class="w"> </span><span class="m">1</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_html"><style>
.list-inline {list-style: none; margin:0; padding: 0}
.list-inline>li {display: inline-block}
.list-inline>li:not(:last-child)::after {content: "\00b7"; padding: 0 .5ex}
</style>
<ol class=list-inline><li>2</li><li>3</li><li>4</li><li>5</li></ol>
</div></div>
</div>
<p>But watch out for vector recycling in R!</p>
<p>This makes sense:</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-r notranslate"><div class="highlight"><pre><span></span><span class="nf">c</span><span class="p">(</span><span class="m">1</span><span class="p">,</span><span class="w"> </span><span class="m">2</span><span class="p">,</span><span class="w"> </span><span class="m">3</span><span class="p">,</span><span class="w"> </span><span class="m">4</span><span class="p">)</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="nf">c</span><span class="p">(</span><span class="m">1</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_html"><style>
.list-inline {list-style: none; margin:0; padding: 0}
.list-inline>li {display: inline-block}
.list-inline>li:not(:last-child)::after {content: "\00b7"; padding: 0 .5ex}
</style>
<ol class=list-inline><li>2</li><li>3</li><li>4</li><li>5</li></ol>
</div></div>
</div>
<p>but this does not!</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-r notranslate"><div class="highlight"><pre><span></span><span class="nf">c</span><span class="p">(</span><span class="m">1</span><span class="p">,</span><span class="w"> </span><span class="m">2</span><span class="p">,</span><span class="w"> </span><span class="m">3</span><span class="p">,</span><span class="w"> </span><span class="m">4</span><span class="p">)</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="nf">c</span><span class="p">(</span><span class="m">1</span><span class="p">,</span><span class="w"> </span><span class="m">2</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_html"><style>
.list-inline {list-style: none; margin:0; padding: 0}
.list-inline>li {display: inline-block}
.list-inline>li:not(:last-child)::after {content: "\00b7"; padding: 0 .5ex}
</style>
<ol class=list-inline><li>2</li><li>4</li><li>4</li><li>6</li></ol>
</div></div>
</div>
<p>A list of vector operators here:  <a class="reference external" href="https://cran.r-project.org/doc/contrib/Baggott-refcard-v2.pdf">R Operators cheat sheet</a></p>
<p>One to watch out for, logical and (<code class="docutils literal notranslate"><span class="pre">&amp;</span></code>) and or (<code class="docutils literal notranslate"><span class="pre">|</span></code>) operators come in both an elementwise and first element comparison form, for example:</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-r notranslate"><div class="highlight"><pre><span></span><span class="c1"># compares each elements of each vector by position</span>
<span class="nf">c</span><span class="p">(</span><span class="kc">TRUE</span><span class="p">,</span><span class="w"> </span><span class="kc">TRUE</span><span class="p">,</span><span class="w"> </span><span class="kc">TRUE</span><span class="p">)</span><span class="w"> </span><span class="o">&amp;</span><span class="w"> </span><span class="nf">c</span><span class="p">(</span><span class="kc">FALSE</span><span class="p">,</span><span class="w"> </span><span class="kc">TRUE</span><span class="p">,</span><span class="w"> </span><span class="kc">TRUE</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_html"><style>
.list-inline {list-style: none; margin:0; padding: 0}
.list-inline>li {display: inline-block}
.list-inline>li:not(:last-child)::after {content: "\00b7"; padding: 0 .5ex}
</style>
<ol class=list-inline><li>FALSE</li><li>TRUE</li><li>TRUE</li></ol>
</div></div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-r notranslate"><div class="highlight"><pre><span></span><span class="c1"># compares only the first elements of each vector</span>
<span class="nf">c</span><span class="p">(</span><span class="kc">TRUE</span><span class="p">,</span><span class="w"> </span><span class="kc">TRUE</span><span class="p">,</span><span class="w"> </span><span class="kc">TRUE</span><span class="p">)</span><span class="w"> </span><span class="o">&amp;&amp;</span><span class="w"> </span><span class="nf">c</span><span class="p">(</span><span class="kc">FALSE</span><span class="p">,</span><span class="w"> </span><span class="kc">TRUE</span><span class="p">,</span><span class="w"> </span><span class="kc">TRUE</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output traceback highlight-ipythontb notranslate"><div class="highlight"><pre><span></span><span class="n">Error</span> <span class="ow">in</span> <span class="n">c</span><span class="p">(</span><span class="n">TRUE</span><span class="p">,</span> <span class="n">TRUE</span><span class="p">,</span> <span class="n">TRUE</span><span class="p">)</span> <span class="o">&amp;&amp;</span> <span class="n">c</span><span class="p">(</span><span class="n">FALSE</span><span class="p">,</span> <span class="n">TRUE</span><span class="p">,</span> <span class="n">TRUE</span><span class="p">):</span> <span class="s1">&#39;length = 3&#39;</span> <span class="ow">in</span> <span class="n">coercion</span> <span class="n">to</span> <span class="s1">&#39;logical(1)&#39;</span>
<span class="ne">Traceback</span>:
</pre></div>
</div>
</div>
</div>
</section>
</section>
<section id="extending-our-knowledge-to-data-frames">
<h2>Extending our knowledge to data frames<a class="headerlink" href="#extending-our-knowledge-to-data-frames" title="Permalink to this heading">#</a></h2>
<a class="reference internal image-reference" href="https://datasciencebook.ca/_main_files/figure-html/02-vectors-1.png?raw=true"><img alt="https://datasciencebook.ca/_main_files/figure-html/02-vectors-1.png?raw=true" src="https://datasciencebook.ca/_main_files/figure-html/02-vectors-1.png?raw=true" style="width: 800px;" /></a>
<section id="getting-to-know-a-data-frame">
<h3>Getting to know a data frame<a class="headerlink" href="#getting-to-know-a-data-frame" title="Permalink to this heading">#</a></h3>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-r notranslate"><div class="highlight"><pre><span></span><span class="nf">head</span><span class="p">(</span><span class="n">mtcars</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_html"><table class="dataframe">
<caption>A data.frame: 6 × 11</caption>
<thead>
	<tr><th></th><th scope=col>mpg</th><th scope=col>cyl</th><th scope=col>disp</th><th scope=col>hp</th><th scope=col>drat</th><th scope=col>wt</th><th scope=col>qsec</th><th scope=col>vs</th><th scope=col>am</th><th scope=col>gear</th><th scope=col>carb</th></tr>
	<tr><th></th><th scope=col>&lt;dbl&gt;</th><th scope=col>&lt;dbl&gt;</th><th scope=col>&lt;dbl&gt;</th><th scope=col>&lt;dbl&gt;</th><th scope=col>&lt;dbl&gt;</th><th scope=col>&lt;dbl&gt;</th><th scope=col>&lt;dbl&gt;</th><th scope=col>&lt;dbl&gt;</th><th scope=col>&lt;dbl&gt;</th><th scope=col>&lt;dbl&gt;</th><th scope=col>&lt;dbl&gt;</th></tr>
</thead>
<tbody>
	<tr><th scope=row>Mazda RX4</th><td>21.0</td><td>6</td><td>160</td><td>110</td><td>3.90</td><td>2.620</td><td>16.46</td><td>0</td><td>1</td><td>4</td><td>4</td></tr>
	<tr><th scope=row>Mazda RX4 Wag</th><td>21.0</td><td>6</td><td>160</td><td>110</td><td>3.90</td><td>2.875</td><td>17.02</td><td>0</td><td>1</td><td>4</td><td>4</td></tr>
	<tr><th scope=row>Datsun 710</th><td>22.8</td><td>4</td><td>108</td><td> 93</td><td>3.85</td><td>2.320</td><td>18.61</td><td>1</td><td>1</td><td>4</td><td>1</td></tr>
	<tr><th scope=row>Hornet 4 Drive</th><td>21.4</td><td>6</td><td>258</td><td>110</td><td>3.08</td><td>3.215</td><td>19.44</td><td>1</td><td>0</td><td>3</td><td>1</td></tr>
	<tr><th scope=row>Hornet Sportabout</th><td>18.7</td><td>8</td><td>360</td><td>175</td><td>3.15</td><td>3.440</td><td>17.02</td><td>0</td><td>0</td><td>3</td><td>2</td></tr>
	<tr><th scope=row>Valiant</th><td>18.1</td><td>6</td><td>225</td><td>105</td><td>2.76</td><td>3.460</td><td>20.22</td><td>1</td><td>0</td><td>3</td><td>1</td></tr>
</tbody>
</table>
</div></div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-r notranslate"><div class="highlight"><pre><span></span><span class="nf">str</span><span class="p">(</span><span class="n">mtcars</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>&#39;data.frame&#39;:	32 obs. of  11 variables:
 $ mpg : num  21 21 22.8 21.4 18.7 18.1 14.3 24.4 22.8 19.2 ...
 $ cyl : num  6 6 4 6 8 6 8 4 4 6 ...
 $ disp: num  160 160 108 258 360 ...
 $ hp  : num  110 110 93 110 175 105 245 62 95 123 ...
 $ drat: num  3.9 3.9 3.85 3.08 3.15 2.76 3.21 3.69 3.92 3.92 ...
 $ wt  : num  2.62 2.88 2.32 3.21 3.44 ...
 $ qsec: num  16.5 17 18.6 19.4 17 ...
 $ vs  : num  0 0 1 1 0 1 0 1 1 1 ...
 $ am  : num  1 1 1 0 0 0 0 0 0 0 ...
 $ gear: num  4 4 4 3 3 3 3 4 4 4 ...
 $ carb: num  4 4 1 1 2 1 4 2 2 4 ...
</pre></div>
</div>
</div>
</div>
</section>
<section id="subsetting-and-modifying-data-frames">
<h3>Subsetting and modifying data frames<a class="headerlink" href="#subsetting-and-modifying-data-frames" title="Permalink to this heading">#</a></h3>
<p>There are 3 operators that can be used when subsetting data frames: <code class="docutils literal notranslate"><span class="pre">[</span></code>, <code class="docutils literal notranslate"><span class="pre">$</span></code> and <code class="docutils literal notranslate"><span class="pre">[[</span></code></p>
<table class="colwidths-auto table">
<thead>
<tr class="row-odd"><th class="head"><p>Operator</p></th>
<th class="head"><p>Example use</p></th>
<th class="head"><p>What it returns</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">[</span></code></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">mtcars[1:10,</span> <span class="pre">2:4]</span></code></p></td>
<td><p>rows 1-10 for columns 2-4 of the data frame, as a data frame</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">[</span></code></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">mtcars[1:10,</span> <span class="pre">]</span></code></p></td>
<td><p>rows 1-10 for all columns of the data frame, as a data frame</p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">[</span></code></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">mtcars[1]</span></code></p></td>
<td><p>the first column of the data frame, as a data frame</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">[[</span></code></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">mtcars[[1]]</span></code></p></td>
<td><p>the first column of the data frame, as a vector</p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">$</span></code></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">mtcars$cyl</span></code></p></td>
<td><p>the column the corresponds to the name that follows the <code class="docutils literal notranslate"><span class="pre">$</span></code>, as a vector</p></td>
</tr>
</tbody>
</table>
<p>Note that <code class="docutils literal notranslate"><span class="pre">$</span></code> and <code class="docutils literal notranslate"><span class="pre">[[</span></code> remove a level of structure from the data frame object (this happens with lists too).</p>
</section>
</section>
<section id="other-r-objects">
<h2>Other R objects<a class="headerlink" href="#other-r-objects" title="Permalink to this heading">#</a></h2>
<p>We are focusing on vectors and data frames in this lecture because these are the objects you will encounter most frequently in R for data science. These subsetting (and modification) syntax also work on other objects in R, in the same way.</p>
<p>Examples that you will encounter in the worksheet and lab are matrices and lists.</p>
<section id="logical-indexing-of-data-frames">
<h3>Logical indexing of data frames<a class="headerlink" href="#logical-indexing-of-data-frames" title="Permalink to this heading">#</a></h3>
<p>We can also use logical statements to filter for rows containing certain values, or values above or below a threshold. For example, if we want to filter for rows where the cylinder value in the <code class="docutils literal notranslate"><span class="pre">cyl</span></code> column is 6 in the mtcars data frame shown below:</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-r notranslate"><div class="highlight"><pre><span></span><span class="nf">options</span><span class="p">(</span><span class="n">repr.matrix.max.rows</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="m">10</span><span class="p">)</span><span class="w"> </span><span class="c1"># limit number of rows that are output</span>
<span class="n">mtcars</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_html"><table class="dataframe">
<caption>A data.frame: 32 × 11</caption>
<thead>
	<tr><th></th><th scope=col>mpg</th><th scope=col>cyl</th><th scope=col>disp</th><th scope=col>hp</th><th scope=col>drat</th><th scope=col>wt</th><th scope=col>qsec</th><th scope=col>vs</th><th scope=col>am</th><th scope=col>gear</th><th scope=col>carb</th></tr>
	<tr><th></th><th scope=col>&lt;dbl&gt;</th><th scope=col>&lt;dbl&gt;</th><th scope=col>&lt;dbl&gt;</th><th scope=col>&lt;dbl&gt;</th><th scope=col>&lt;dbl&gt;</th><th scope=col>&lt;dbl&gt;</th><th scope=col>&lt;dbl&gt;</th><th scope=col>&lt;dbl&gt;</th><th scope=col>&lt;dbl&gt;</th><th scope=col>&lt;dbl&gt;</th><th scope=col>&lt;dbl&gt;</th></tr>
</thead>
<tbody>
	<tr><th scope=row>Mazda RX4</th><td>21.0</td><td>6</td><td>160</td><td>110</td><td>3.90</td><td>2.620</td><td>16.46</td><td>0</td><td>1</td><td>4</td><td>4</td></tr>
	<tr><th scope=row>Mazda RX4 Wag</th><td>21.0</td><td>6</td><td>160</td><td>110</td><td>3.90</td><td>2.875</td><td>17.02</td><td>0</td><td>1</td><td>4</td><td>4</td></tr>
	<tr><th scope=row>Datsun 710</th><td>22.8</td><td>4</td><td>108</td><td> 93</td><td>3.85</td><td>2.320</td><td>18.61</td><td>1</td><td>1</td><td>4</td><td>1</td></tr>
	<tr><th scope=row>Hornet 4 Drive</th><td>21.4</td><td>6</td><td>258</td><td>110</td><td>3.08</td><td>3.215</td><td>19.44</td><td>1</td><td>0</td><td>3</td><td>1</td></tr>
	<tr><th scope=row>Hornet Sportabout</th><td>18.7</td><td>8</td><td>360</td><td>175</td><td>3.15</td><td>3.440</td><td>17.02</td><td>0</td><td>0</td><td>3</td><td>2</td></tr>
	<tr><th scope=row>⋮</th><td>⋮</td><td>⋮</td><td>⋮</td><td>⋮</td><td>⋮</td><td>⋮</td><td>⋮</td><td>⋮</td><td>⋮</td><td>⋮</td><td>⋮</td></tr>
	<tr><th scope=row>Lotus Europa</th><td>30.4</td><td>4</td><td> 95.1</td><td>113</td><td>3.77</td><td>1.513</td><td>16.9</td><td>1</td><td>1</td><td>5</td><td>2</td></tr>
	<tr><th scope=row>Ford Pantera L</th><td>15.8</td><td>8</td><td>351.0</td><td>264</td><td>4.22</td><td>3.170</td><td>14.5</td><td>0</td><td>1</td><td>5</td><td>4</td></tr>
	<tr><th scope=row>Ferrari Dino</th><td>19.7</td><td>6</td><td>145.0</td><td>175</td><td>3.62</td><td>2.770</td><td>15.5</td><td>0</td><td>1</td><td>5</td><td>6</td></tr>
	<tr><th scope=row>Maserati Bora</th><td>15.0</td><td>8</td><td>301.0</td><td>335</td><td>3.54</td><td>3.570</td><td>14.6</td><td>0</td><td>1</td><td>5</td><td>8</td></tr>
	<tr><th scope=row>Volvo 142E</th><td>21.4</td><td>4</td><td>121.0</td><td>109</td><td>4.11</td><td>2.780</td><td>18.6</td><td>1</td><td>1</td><td>4</td><td>2</td></tr>
</tbody>
</table>
</div></div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-r notranslate"><div class="highlight"><pre><span></span><span class="n">mtcars</span><span class="p">[</span><span class="n">mtcars</span><span class="o">$</span><span class="n">cyl</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="m">6</span><span class="p">,</span><span class="w"> </span><span class="p">]</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_html"><table class="dataframe">
<caption>A data.frame: 7 × 11</caption>
<thead>
	<tr><th></th><th scope=col>mpg</th><th scope=col>cyl</th><th scope=col>disp</th><th scope=col>hp</th><th scope=col>drat</th><th scope=col>wt</th><th scope=col>qsec</th><th scope=col>vs</th><th scope=col>am</th><th scope=col>gear</th><th scope=col>carb</th></tr>
	<tr><th></th><th scope=col>&lt;dbl&gt;</th><th scope=col>&lt;dbl&gt;</th><th scope=col>&lt;dbl&gt;</th><th scope=col>&lt;dbl&gt;</th><th scope=col>&lt;dbl&gt;</th><th scope=col>&lt;dbl&gt;</th><th scope=col>&lt;dbl&gt;</th><th scope=col>&lt;dbl&gt;</th><th scope=col>&lt;dbl&gt;</th><th scope=col>&lt;dbl&gt;</th><th scope=col>&lt;dbl&gt;</th></tr>
</thead>
<tbody>
	<tr><th scope=row>Mazda RX4</th><td>21.0</td><td>6</td><td>160.0</td><td>110</td><td>3.90</td><td>2.620</td><td>16.46</td><td>0</td><td>1</td><td>4</td><td>4</td></tr>
	<tr><th scope=row>Mazda RX4 Wag</th><td>21.0</td><td>6</td><td>160.0</td><td>110</td><td>3.90</td><td>2.875</td><td>17.02</td><td>0</td><td>1</td><td>4</td><td>4</td></tr>
	<tr><th scope=row>Hornet 4 Drive</th><td>21.4</td><td>6</td><td>258.0</td><td>110</td><td>3.08</td><td>3.215</td><td>19.44</td><td>1</td><td>0</td><td>3</td><td>1</td></tr>
	<tr><th scope=row>Valiant</th><td>18.1</td><td>6</td><td>225.0</td><td>105</td><td>2.76</td><td>3.460</td><td>20.22</td><td>1</td><td>0</td><td>3</td><td>1</td></tr>
	<tr><th scope=row>Merc 280</th><td>19.2</td><td>6</td><td>167.6</td><td>123</td><td>3.92</td><td>3.440</td><td>18.30</td><td>1</td><td>0</td><td>4</td><td>4</td></tr>
	<tr><th scope=row>Merc 280C</th><td>17.8</td><td>6</td><td>167.6</td><td>123</td><td>3.92</td><td>3.440</td><td>18.90</td><td>1</td><td>0</td><td>4</td><td>4</td></tr>
	<tr><th scope=row>Ferrari Dino</th><td>19.7</td><td>6</td><td>145.0</td><td>175</td><td>3.62</td><td>2.770</td><td>15.50</td><td>0</td><td>1</td><td>5</td><td>6</td></tr>
</tbody>
</table>
</div></div>
</div>
<p>Another example:</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-r notranslate"><div class="highlight"><pre><span></span><span class="n">mtcars</span><span class="p">[</span><span class="n">mtcars</span><span class="o">$</span><span class="n">hp</span><span class="w"> </span><span class="o">&gt;</span><span class="w"> </span><span class="m">200</span><span class="p">,</span><span class="w"> </span><span class="p">]</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_html"><table class="dataframe">
<caption>A data.frame: 7 × 11</caption>
<thead>
	<tr><th></th><th scope=col>mpg</th><th scope=col>cyl</th><th scope=col>disp</th><th scope=col>hp</th><th scope=col>drat</th><th scope=col>wt</th><th scope=col>qsec</th><th scope=col>vs</th><th scope=col>am</th><th scope=col>gear</th><th scope=col>carb</th></tr>
	<tr><th></th><th scope=col>&lt;dbl&gt;</th><th scope=col>&lt;dbl&gt;</th><th scope=col>&lt;dbl&gt;</th><th scope=col>&lt;dbl&gt;</th><th scope=col>&lt;dbl&gt;</th><th scope=col>&lt;dbl&gt;</th><th scope=col>&lt;dbl&gt;</th><th scope=col>&lt;dbl&gt;</th><th scope=col>&lt;dbl&gt;</th><th scope=col>&lt;dbl&gt;</th><th scope=col>&lt;dbl&gt;</th></tr>
</thead>
<tbody>
	<tr><th scope=row>Duster 360</th><td>14.3</td><td>8</td><td>360</td><td>245</td><td>3.21</td><td>3.570</td><td>15.84</td><td>0</td><td>0</td><td>3</td><td>4</td></tr>
	<tr><th scope=row>Cadillac Fleetwood</th><td>10.4</td><td>8</td><td>472</td><td>205</td><td>2.93</td><td>5.250</td><td>17.98</td><td>0</td><td>0</td><td>3</td><td>4</td></tr>
	<tr><th scope=row>Lincoln Continental</th><td>10.4</td><td>8</td><td>460</td><td>215</td><td>3.00</td><td>5.424</td><td>17.82</td><td>0</td><td>0</td><td>3</td><td>4</td></tr>
	<tr><th scope=row>Chrysler Imperial</th><td>14.7</td><td>8</td><td>440</td><td>230</td><td>3.23</td><td>5.345</td><td>17.42</td><td>0</td><td>0</td><td>3</td><td>4</td></tr>
	<tr><th scope=row>Camaro Z28</th><td>13.3</td><td>8</td><td>350</td><td>245</td><td>3.73</td><td>3.840</td><td>15.41</td><td>0</td><td>0</td><td>3</td><td>4</td></tr>
	<tr><th scope=row>Ford Pantera L</th><td>15.8</td><td>8</td><td>351</td><td>264</td><td>4.22</td><td>3.170</td><td>14.50</td><td>0</td><td>1</td><td>5</td><td>4</td></tr>
	<tr><th scope=row>Maserati Bora</th><td>15.0</td><td>8</td><td>301</td><td>335</td><td>3.54</td><td>3.570</td><td>14.60</td><td>0</td><td>1</td><td>5</td><td>8</td></tr>
</tbody>
</table>
</div></div>
</div>
</section>
<section id="modifing-data-frames">
<h3>Modifing data frames<a class="headerlink" href="#modifing-data-frames" title="Permalink to this heading">#</a></h3>
<p>Similar to vectors, we can combine the assignment symbol and subsetting to modify data frames.</p>
<p>For example, here we create a new column called <code class="docutils literal notranslate"><span class="pre">kml</span></code>:</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-r notranslate"><div class="highlight"><pre><span></span><span class="n">mtcars</span><span class="o">$</span><span class="n">kml</span><span class="w"> </span><span class="o">&lt;-</span><span class="w"> </span><span class="n">mtcars</span><span class="o">$</span><span class="n">mpg</span><span class="w"> </span><span class="o">/</span><span class="w"> </span><span class="m">2.3521458</span>
<span class="nf">head</span><span class="p">(</span><span class="n">mtcars</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_html"><table class="dataframe">
<caption>A data.frame: 6 × 12</caption>
<thead>
	<tr><th></th><th scope=col>mpg</th><th scope=col>cyl</th><th scope=col>disp</th><th scope=col>hp</th><th scope=col>drat</th><th scope=col>wt</th><th scope=col>qsec</th><th scope=col>vs</th><th scope=col>am</th><th scope=col>gear</th><th scope=col>carb</th><th scope=col>kml</th></tr>
	<tr><th></th><th scope=col>&lt;dbl&gt;</th><th scope=col>&lt;dbl&gt;</th><th scope=col>&lt;dbl&gt;</th><th scope=col>&lt;dbl&gt;</th><th scope=col>&lt;dbl&gt;</th><th scope=col>&lt;dbl&gt;</th><th scope=col>&lt;dbl&gt;</th><th scope=col>&lt;dbl&gt;</th><th scope=col>&lt;dbl&gt;</th><th scope=col>&lt;dbl&gt;</th><th scope=col>&lt;dbl&gt;</th><th scope=col>&lt;dbl&gt;</th></tr>
</thead>
<tbody>
	<tr><th scope=row>Mazda RX4</th><td>21.0</td><td>6</td><td>160</td><td>110</td><td>3.90</td><td>2.620</td><td>16.46</td><td>0</td><td>1</td><td>4</td><td>4</td><td>8.928018</td></tr>
	<tr><th scope=row>Mazda RX4 Wag</th><td>21.0</td><td>6</td><td>160</td><td>110</td><td>3.90</td><td>2.875</td><td>17.02</td><td>0</td><td>1</td><td>4</td><td>4</td><td>8.928018</td></tr>
	<tr><th scope=row>Datsun 710</th><td>22.8</td><td>4</td><td>108</td><td> 93</td><td>3.85</td><td>2.320</td><td>18.61</td><td>1</td><td>1</td><td>4</td><td>1</td><td>9.693277</td></tr>
	<tr><th scope=row>Hornet 4 Drive</th><td>21.4</td><td>6</td><td>258</td><td>110</td><td>3.08</td><td>3.215</td><td>19.44</td><td>1</td><td>0</td><td>3</td><td>1</td><td>9.098075</td></tr>
	<tr><th scope=row>Hornet Sportabout</th><td>18.7</td><td>8</td><td>360</td><td>175</td><td>3.15</td><td>3.440</td><td>17.02</td><td>0</td><td>0</td><td>3</td><td>2</td><td>7.950187</td></tr>
	<tr><th scope=row>Valiant</th><td>18.1</td><td>6</td><td>225</td><td>105</td><td>2.76</td><td>3.460</td><td>20.22</td><td>1</td><td>0</td><td>3</td><td>1</td><td>7.695101</td></tr>
</tbody>
</table>
</div></div>
</div>
<p>The same syntax works to overwrite an existing column.</p>
</section>
<section id="what-happens-when-we-modify-an-entire-column-or-a-row">
<h3>What happens when we modify an entire column? or a row?<a class="headerlink" href="#what-happens-when-we-modify-an-entire-column-or-a-row" title="Permalink to this heading">#</a></h3>
<p>To answer this we need to look at how data frames are represented in R’s memory.</p>
</section>
<section id="how-r-represents-data-frames">
<h3>How R represents data frames:<a class="headerlink" href="#how-r-represents-data-frames" title="Permalink to this heading">#</a></h3>
<ul class="simple">
<li><p>Remember that data frames are lists of vectors</p></li>
<li><p>As such, they don’t store the values themselves, they store references to them:</p></li>
</ul>
<p><code class="docutils literal notranslate"><span class="pre">d1</span> <span class="pre">&lt;-</span> <span class="pre">data.frame(x</span> <span class="pre">=</span> <span class="pre">c(1,</span> <span class="pre">5,</span> <span class="pre">6),</span> <span class="pre">y</span> <span class="pre">=</span> <span class="pre">c(2,</span> <span class="pre">4,</span> <span class="pre">3))</span></code></p>
<a class="reference internal image-reference" href="https://d33wubrfki0l68.cloudfront.net/80d8995999aa240ff4bc91bb6aba2c7bf72afc24/95ee6/diagrams/name-value/dataframe.png"><img alt="https://d33wubrfki0l68.cloudfront.net/80d8995999aa240ff4bc91bb6aba2c7bf72afc24/95ee6/diagrams/name-value/dataframe.png" src="https://d33wubrfki0l68.cloudfront.net/80d8995999aa240ff4bc91bb6aba2c7bf72afc24/95ee6/diagrams/name-value/dataframe.png" style="width: 200px;" /></a>
<p><em>Source: <a class="reference external" href="https://adv-r.hadley.nz/">Advanced R</a> by Hadley Wickham</em></p>
</section>
<section id="id2">
<h3>How R represents data frames:<a class="headerlink" href="#id2" title="Permalink to this heading">#</a></h3>
<p>If you modify a column, only that column needs to be modified; the others will still point to their original references:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">d2</span> <span class="o">&lt;-</span> <span class="n">d1</span>
<span class="n">d2</span><span class="p">[,</span> <span class="mi">2</span><span class="p">]</span> <span class="o">&lt;-</span> <span class="n">d2</span><span class="p">[,</span> <span class="mi">2</span><span class="p">]</span> <span class="o">*</span> <span class="mi">2</span>
</pre></div>
</div>
<a class="reference internal image-reference" href="https://d33wubrfki0l68.cloudfront.net/c19fd7e31bf34ceff73d0fac6e3ea22b09429e4a/23d8d/diagrams/name-value/d-modify-c.png"><img alt="https://d33wubrfki0l68.cloudfront.net/c19fd7e31bf34ceff73d0fac6e3ea22b09429e4a/23d8d/diagrams/name-value/d-modify-c.png" src="https://d33wubrfki0l68.cloudfront.net/c19fd7e31bf34ceff73d0fac6e3ea22b09429e4a/23d8d/diagrams/name-value/d-modify-c.png" style="width: 250px;" /></a>
<p><em>Source: <a class="reference external" href="https://adv-r.hadley.nz/">Advanced R</a> by Hadley Wickham</em></p>
</section>
<section id="id3">
<h3>How R represents data frames:<a class="headerlink" href="#id3" title="Permalink to this heading">#</a></h3>
<p>However, if you modify a row, every column is modified, which means every column must be copied:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">d3</span> <span class="o">&lt;-</span> <span class="n">d1</span>
<span class="n">d3</span><span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="p">]</span> <span class="o">&lt;-</span> <span class="n">d3</span><span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="p">]</span> <span class="o">*</span> <span class="mi">3</span>
</pre></div>
</div>
<a class="reference internal image-reference" href="https://d33wubrfki0l68.cloudfront.net/36df61f54d1ac62e066fb814cb7ba38ea6047a74/facf8/diagrams/name-value/d-modify-r.png"><img alt="https://d33wubrfki0l68.cloudfront.net/36df61f54d1ac62e066fb814cb7ba38ea6047a74/facf8/diagrams/name-value/d-modify-r.png" src="https://d33wubrfki0l68.cloudfront.net/36df61f54d1ac62e066fb814cb7ba38ea6047a74/facf8/diagrams/name-value/d-modify-r.png" style="width: 400px;" /></a>
<p><em>Source: <a class="reference external" href="https://adv-r.hadley.nz/">Advanced R</a> by Hadley Wickham</em></p>
</section>
<section id="an-exception-to-copy-on-modify">
<h3>An exception to copy-on-modify<a class="headerlink" href="#an-exception-to-copy-on-modify" title="Permalink to this heading">#</a></h3>
<p>If an object has a single name bound to it, R will modify it in place:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">v</span> <span class="o">&lt;-</span> <span class="n">c</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">)</span>
</pre></div>
</div>
<a class="reference internal image-reference" href="https://d33wubrfki0l68.cloudfront.net/496ac87edf04d7e235747c3cf4a4e66deca754f2/3ac04/diagrams/name-value/v-inplace-1.png"><img alt="https://d33wubrfki0l68.cloudfront.net/496ac87edf04d7e235747c3cf4a4e66deca754f2/3ac04/diagrams/name-value/v-inplace-1.png" src="https://d33wubrfki0l68.cloudfront.net/496ac87edf04d7e235747c3cf4a4e66deca754f2/3ac04/diagrams/name-value/v-inplace-1.png" style="width: 200px;" /></a>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">v</span><span class="p">[[</span><span class="mi">3</span><span class="p">]]</span> <span class="o">&lt;-</span> <span class="mi">4</span>
</pre></div>
</div>
<a class="reference internal image-reference" href="https://d33wubrfki0l68.cloudfront.net/a6ef7ab337f156cdb2c21816923368383bc2e858/1f8bb/diagrams/name-value/v-inplace-2.png"><img alt="https://d33wubrfki0l68.cloudfront.net/a6ef7ab337f156cdb2c21816923368383bc2e858/1f8bb/diagrams/name-value/v-inplace-2.png" src="https://d33wubrfki0l68.cloudfront.net/a6ef7ab337f156cdb2c21816923368383bc2e858/1f8bb/diagrams/name-value/v-inplace-2.png" style="width: 200px;" /></a>
<ul class="simple">
<li><p>Hence, modify in place can be a useful optimization for speeding up code.</p></li>
<li><p>However, there are some complications that make predicting exactly when R applies this optimisation challenging (see <a class="reference external" href="https://adv-r.hadley.nz/names-values.html#modify-in-place">here</a> for details)</p></li>
<li><p>There is one other time R will do this, we will cover this when we get to environments.</p></li>
</ul>
<p><em>Source: <a class="reference external" href="https://adv-r.hadley.nz/">Advanced R</a> by Hadley Wickham</em></p>
</section>
</section>
<section id="writing-readable-r-code">
<h2>Writing readable R code<a class="headerlink" href="#writing-readable-r-code" title="Permalink to this heading">#</a></h2>
<ul class="simple">
<li><p>WriTing AND reading    (code) TaKes cognitive RESOURCES, &amp; We only hAvE so MUCh!</p></li>
<li><p>To help free up cognitive capacity, we will follow the <a class="reference external" href="https://style.tidyverse.org/index.html">tidyverse style guide</a></p></li>
</ul>
<a class="reference internal image-reference" href="../_images/tidyverse-hex.png"><img alt="../_images/tidyverse-hex.png" src="../_images/tidyverse-hex.png" style="width: 200px;" /></a>
<section id="sample-code-not-in-tidyverse-style">
<h3>Sample code <strong>not</strong> in tidyverse style<a class="headerlink" href="#sample-code-not-in-tidyverse-style" title="Permalink to this heading">#</a></h3>
<p>Can we spot what’s wrong?</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">library</span><span class="p">(</span><span class="n">tidyverse</span><span class="p">)</span>
<span class="n">us</span><span class="mf">.2015</span><span class="o">.</span><span class="n">econ</span><span class="o">=</span><span class="n">read_csv</span><span class="p">(</span> <span class="s2">&quot;data/state_property_data.csv&quot;</span><span class="p">)</span>
<span class="n">us</span><span class="mf">.2016</span><span class="o">.</span><span class="n">vote</span><span class="o">=</span><span class="n">read_csv</span><span class="p">(</span> <span class="s2">&quot;data/2016_presidential_election_state_vote.csv&quot;</span><span class="p">)</span>
<span class="n">stateData</span><span class="o">=</span><span class="n">left_join</span> <span class="p">(</span><span class="n">us</span><span class="mf">.2015</span><span class="o">.</span><span class="n">econ</span><span class="p">,</span><span class="n">us</span><span class="mf">.2016</span><span class="o">.</span><span class="n">vote</span><span class="p">)</span> <span class="o">%&gt;%</span>
    <span class="nb">filter</span><span class="p">(</span><span class="n">party</span><span class="o">!=</span><span class="s2">&quot;Not Applicable&quot;</span><span class="p">)</span> <span class="o">%&gt;%</span>
    <span class="n">mutate</span><span class="p">(</span><span class="n">meanCommuteHours</span><span class="o">=</span><span class="n">mean_commute_minutes</span><span class="o">/</span><span class="mi">60</span><span class="p">)</span>
<span class="n">ggplot</span><span class="p">(</span><span class="n">stateData</span><span class="p">,</span> <span class="n">aes</span> <span class="p">(</span><span class="n">x</span><span class="o">=</span><span class="n">mean_commute_minutes</span><span class="p">,</span> <span class="n">y</span><span class="o">=</span><span class="n">med_prop_val</span><span class="p">,</span> <span class="n">color</span><span class="o">=</span><span class="n">party</span><span class="p">))</span> <span class="o">+</span>
    <span class="n">geom_point</span><span class="p">()</span><span class="o">+</span>
    <span class="n">xlab</span><span class="p">(</span> <span class="s2">&quot;Income (USD)&quot;</span> <span class="p">)</span><span class="o">+</span>
    <span class="n">ylab</span><span class="p">(</span><span class="s2">&quot;Median property value (USD)&quot;</span><span class="p">)</span><span class="o">+</span>
    <span class="n">scale_colour_manual</span> <span class="p">(</span><span class="n">values</span> <span class="o">=</span> <span class="n">c</span><span class="p">(</span><span class="s2">&quot;blue&quot;</span><span class="p">,</span><span class="s2">&quot;red&quot;</span><span class="p">))</span><span class="o">+</span>
    <span class="n">scale_x_continuous</span> <span class="p">(</span><span class="n">labels</span> <span class="o">=</span> <span class="n">scales</span><span class="p">::</span><span class="n">dollar_format</span><span class="p">())</span><span class="o">+</span>
    <span class="n">scale_y_continuous</span> <span class="p">(</span><span class="n">labels</span> <span class="o">=</span> <span class="n">scales</span><span class="p">::</span><span class="n">dollar_format</span><span class="p">())</span>
</pre></div>
</div>
</section>
<section id="sample-code-in-tidyverse-style">
<h3>Sample code in tidyverse style<a class="headerlink" href="#sample-code-in-tidyverse-style" title="Permalink to this heading">#</a></h3>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">library</span><span class="p">(</span><span class="n">tidyverse</span><span class="p">,</span> <span class="n">quietly</span> <span class="o">=</span> <span class="n">TRUE</span><span class="p">)</span>
<span class="n">us_2015_econ</span> <span class="o">&lt;-</span> <span class="n">read_csv</span><span class="p">(</span><span class="s2">&quot;data/state_property_data.csv&quot;</span><span class="p">)</span>
<span class="n">us_2016_vote</span> <span class="o">&lt;-</span> <span class="n">read_csv</span><span class="p">(</span><span class="s2">&quot;data/2016_presidential_election_state_vote.csv&quot;</span><span class="p">)</span>
<span class="n">state_data</span> <span class="o">&lt;-</span> <span class="n">left_join</span><span class="p">(</span><span class="n">us_2015_econ</span><span class="p">,</span> <span class="n">us_2016_vote</span><span class="p">)</span> <span class="o">%&gt;%</span>
    <span class="nb">filter</span><span class="p">(</span><span class="n">party</span> <span class="o">!=</span> <span class="s2">&quot;Not Applicable&quot;</span><span class="p">)</span> <span class="o">%&gt;%</span>
    <span class="n">mutate</span><span class="p">(</span><span class="n">mean_commute_hours</span> <span class="o">=</span> <span class="n">mean_commute_minutes</span> <span class="o">/</span> <span class="mi">60</span><span class="p">)</span>
<span class="n">ggplot</span><span class="p">(</span><span class="n">state_data</span><span class="p">,</span> <span class="n">aes</span><span class="p">(</span><span class="n">x</span> <span class="o">=</span> <span class="n">med_income</span><span class="p">,</span> <span class="n">y</span> <span class="o">=</span> <span class="n">med_prop_val</span><span class="p">,</span> <span class="n">color</span> <span class="o">=</span> <span class="n">party</span><span class="p">))</span> <span class="o">+</span>
    <span class="n">geom_point</span><span class="p">()</span> <span class="o">+</span>
    <span class="n">xlab</span><span class="p">(</span><span class="s2">&quot;Income (USD)&quot;</span><span class="p">)</span> <span class="o">+</span>
    <span class="n">ylab</span><span class="p">(</span><span class="s2">&quot;Median property value (USD)&quot;</span><span class="p">)</span> <span class="o">+</span>
    <span class="n">scale_colour_manual</span><span class="p">(</span><span class="n">values</span> <span class="o">=</span> <span class="n">c</span><span class="p">(</span><span class="s2">&quot;blue&quot;</span><span class="p">,</span> <span class="s2">&quot;red&quot;</span><span class="p">))</span> <span class="o">+</span>
    <span class="n">scale_x_continuous</span><span class="p">(</span><span class="n">labels</span> <span class="o">=</span> <span class="n">scales</span><span class="p">::</span><span class="n">dollar_format</span><span class="p">())</span> <span class="o">+</span>
    <span class="n">scale_y_continuous</span><span class="p">(</span><span class="n">labels</span> <span class="o">=</span> <span class="n">scales</span><span class="p">::</span><span class="n">dollar_format</span><span class="p">())</span>
</pre></div>
</div>
</section>
</section>
<section id="what-did-we-learn-today">
<h2>What did we learn today?<a class="headerlink" href="#what-did-we-learn-today" title="Permalink to this heading">#</a></h2>
<ul class="simple">
<li><p>How to get help in R</p></li>
<li><p>How the <code class="docutils literal notranslate"><span class="pre">&lt;-</span></code> differs from <code class="docutils literal notranslate"><span class="pre">=</span></code> in R</p></li>
<li><p>Base R syntax for subsetting and modifying R objects</p></li>
<li><p>Some aspects of tidyverse code style</p></li>
</ul>
</section>
<section id="additional-resources">
<h2>Additional resources:<a class="headerlink" href="#additional-resources" title="Permalink to this heading">#</a></h2>
<ul class="simple">
<li><p><a class="reference external" href="https://github.com/rstudio/cheatsheets/blob/main/base-r.pdf">RStudio base R cheat sheet</a></p></li>
<li><p><a class="reference external" href="https://cran.r-project.org/doc/contrib/Baggott-refcard-v2.pdf">R Operators cheat sheet</a></p></li>
</ul>
</section>
<section id="attribution">
<h2>Attribution:<a class="headerlink" href="#attribution" title="Permalink to this heading">#</a></h2>
<ul class="simple">
<li><p><a class="reference external" href="https://adv-r.hadley.nz/">Advanced R</a> by Hadley Wickham</p></li>
<li><p><a class="reference external" href="https://colinfay.me/r-assignment/">Why do we use arrow as an assignment operator?</a> by Colin Fay</p></li>
</ul>
</section>
</section>

    <script type="text/x-thebe-config">
    {
        requestKernel: true,
        binderOptions: {
            repo: "binder-examples/jupyter-stacks-datascience",
            ref: "master",
        },
        codeMirrorConfig: {
            theme: "abcdef",
            mode: "r"
        },
        kernelOptions: {
            name: "ir",
            path: "./lecture-notes"
        },
        predefinedOutput: true
    }
    </script>
    <script>kernelName = 'ir'</script>

                </article>
              

              
              
              
              
                <footer class="prev-next-footer">
                  <!-- Previous / next buttons -->
<div class="prev-next-area">
    <a class="left-prev"
       href="01-intro-to-r-via-tidyverse.html"
       title="previous page">
      <i class="fa-solid fa-angle-left"></i>
      <div class="prev-next-info">
        <p class="prev-next-subtitle">previous</p>
        <p class="prev-next-title">Lecture 1 -  Introduction to R via the tidyverse</p>
      </div>
    </a>
    <a class="right-next"
       href="03-dates-strings-and-factors.html"
       title="next page">
      <div class="prev-next-info">
        <p class="prev-next-subtitle">next</p>
        <p class="prev-next-title">Lecture 3 -  dates &amp; times, strings,  as well as factors</p>
      </div>
      <i class="fa-solid fa-angle-right"></i>
    </a>
</div>
                </footer>
              
            </div>
            
            
              
                <div class="bd-sidebar-secondary bd-toc"><div class="sidebar-secondary-items sidebar-secondary__inner">

  <div class="sidebar-secondary-item">
  <div class="page-toc tocsection onthispage">
    <i class="fa-solid fa-list"></i> Contents
  </div>
  <nav class="bd-toc-nav page-toc">
    <ul class="visible nav section-nav flex-column">
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#lecture-learning-objectives">Lecture learning objectives:</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#getting-help-in-r">Getting help in R</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#the-assignment-symbol">The assignment symbol, <code class="docutils literal notranslate"><span class="pre">&lt;-</span></code></a><ul class="nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#assignment-readability">Assignment readability</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#assignment-environment">Assignment environment</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#what-does-assignment-do-in-r">What does assignment do in R?</a></li>
</ul>
</li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#a-note-on-names">A note on names</a><ul class="nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#rules-for-syntactic-names">Rules for syntactic names:</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#how-to-manage-non-syntactic-names">How to manage non-syntactic names</a></li>
</ul>
</li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#key-datatypes-in-r">Key datatypes in R</a><ul class="nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#what-is-a-data-frame">What is a data frame?</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#id1">What is a data frame?</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#what-is-a-vector">What is a vector?</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#how-are-vectors-different-from-a-list">How are vectors different from a list?</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#reminder-what-do-lists-have-to-do-with-data-frames">Reminder: what do lists have to do with data frames?</a></li>
</ul>
</li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#a-bit-more-about-vectors">A bit more about Vectors</a><ul class="nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#creating-vectors-and-vector-types">Creating vectors and vector types</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#what-happens-to-vectors-of-mixed-type">What happens to vectors of mixed type?</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#useful-functions-for-testing-type-and-forcing-coercion">Useful functions for testing type and forcing coercion:</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#how-to-subset-and-modify-vectors">How to subset and modify vectors</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#subsetting">Subsetting</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#modifing-vectors">Modifing vectors</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#what-happens-when-you-modify-a-vector-in-r">What happens when you modify a vector in R?</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#why-copy-on-modify">Why copy-on-modify</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#why-do-we-care-about-knowing-this">Why do we care about knowing this?</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#why-vectors">Why vectors?</a></li>
</ul>
</li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#extending-our-knowledge-to-data-frames">Extending our knowledge to data frames</a><ul class="nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#getting-to-know-a-data-frame">Getting to know a data frame</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#subsetting-and-modifying-data-frames">Subsetting and modifying data frames</a></li>
</ul>
</li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#other-r-objects">Other R objects</a><ul class="nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#logical-indexing-of-data-frames">Logical indexing of data frames</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#modifing-data-frames">Modifing data frames</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#what-happens-when-we-modify-an-entire-column-or-a-row">What happens when we modify an entire column? or a row?</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#how-r-represents-data-frames">How R represents data frames:</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#id2">How R represents data frames:</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#id3">How R represents data frames:</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#an-exception-to-copy-on-modify">An exception to copy-on-modify</a></li>
</ul>
</li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#writing-readable-r-code">Writing readable R code</a><ul class="nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#sample-code-not-in-tidyverse-style">Sample code <strong>not</strong> in tidyverse style</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#sample-code-in-tidyverse-style">Sample code in tidyverse style</a></li>
</ul>
</li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#what-did-we-learn-today">What did we learn today?</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#additional-resources">Additional resources:</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#attribution">Attribution:</a></li>
</ul>
  </nav></div>

</div></div>
              
            
          </div>
          <footer class="bd-footer-content">
            
<div class="bd-footer-content__inner container">
  
  <div class="footer-item">
    
<p class="component-author">
By The Jupyter Book community
</p>

  </div>
  
  <div class="footer-item">
    
  <p class="copyright">
    
      © Copyright 2022.
      <br/>
    
  </p>

  </div>
  
  <div class="footer-item">
    
  </div>
  
  <div class="footer-item">
    
  </div>
  
</div>
          </footer>
        

      </main>
    </div>
  </div>
  
  <!-- Scripts loaded after <body> so the DOM is not blocked -->
  <script src="../_static/scripts/bootstrap.js?digest=ac02cc09edc035673794"></script>
<script src="../_static/scripts/pydata-sphinx-theme.js?digest=ac02cc09edc035673794"></script>

  <footer class="bd-footer">
  </footer>
  </body>
</html>